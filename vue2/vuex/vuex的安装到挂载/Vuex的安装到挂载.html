<!DOCTYPE html>
<html lang="zh-Hans-CN"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=Edge"/><link rel="stylesheet" type="text/css" href="../../css/modern-norm.min.css"/><link rel="stylesheet" type="text/css" href="../../css/prism.min.css"/><link rel="stylesheet" type="text/css" href="../../css/katex.min.css"/><link rel="stylesheet" type="text/css" href="../../css/wolai.css"/><title>Vuex的安装到挂载 - wolai 笔记</title><link rel="shortcut icon" href="data:image/svg+xml,%3Csvg xmlns=&apos;http://www.w3.org/2000/svg&apos; viewBox=&apos;0 0 800 800&apos;%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fff;%7D%3C/style%3E%3C/defs%3E%3Cg%3E%3Cpath class=&apos;cls-1&apos; d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Z&apos;/%3E%3Cpath d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Zm4.72,88.9H185.2L172.42,89c-32.78.62-43.68,3.24-54.71,9.14a45.84,45.84,0,0,0-19.54,19.54c-6.61,12.36-9.11,24.55-9.27,67.49V614.8L89,627.58c.62,32.78,3.24,43.68,9.14,54.71a45.84,45.84,0,0,0,19.54,19.54c12.36,6.61,24.55,9.11,67.49,9.27H610.08c46.79,0,59.41-2.44,72.21-9.28a45.84,45.84,0,0,0,19.54-19.54c6.61-12.36,9.11-24.55,9.27-67.49V189.92c0-46.79-2.44-59.41-9.28-72.21a45.84,45.84,0,0,0-19.54-19.54C669.93,91.56,657.74,89.06,614.8,88.9ZM233.33,493.33A73.34,73.34,0,1,1,160,566.67,73.35,73.35,0,0,1,233.33,493.33Z&apos;/%3E%3C/g%3E%3C/svg%3E"></link></head><body><header><div class="image"></div><div class="title"><div class="banner"><div class="icon"></div></div><div data-title="Vuex的安装到挂载" class="main-title"></div></div></header><article><h2 id="gHCZQSPrsijMBrzvooKaTX" class="wolai-block"><span class="inline-wrap">1、vuex<span class="jill"></span>的概念</span></h2><div id="QCb3XHm9XUYmn9uxYApY" class="wolai-block wolai-text"><div><span class="inline-wrap">Vuex<span class="jill"></span>是一个专门为<span class="jill"></span>Vue.js<span class="jill"></span>应用程序开发做</span><span class="inline-wrap"><b>状态管理</b></span><span class="inline-wrap">的.他采用</span><span class="inline-wrap"><b>集中式存储</b></span><span class="inline-wrap">管理应用的所有组件的状态, 并以响应的规则保证状态以一种可预测的方式发生变化.每一个 Vuex 应用的核心就是 store（仓库）。“store”基本上就是一个容器，它包含着你的应用中大部分的</span><span class="inline-wrap"><b>状态 (state)</b></span><span class="inline-wrap">。</span></div></div><div id="nS4pCq53FKdnHkK4RhRoY7" class="wolai-block wolai-text"><div><span class="inline-wrap">Vuex 是一个专为 Vue.js 应用程序开发的状态管理模式。它采用集中式</span><span class="inline-wrap"><a href="https://so.csdn.net/so/search?q=%E5%AD%98%E5%82%A8%E7%AE%A1%E7%90%86&amp;spm=1001.2101.3001.7020"><span>存储管理</span></a></span><span class="inline-wrap">应用的所有组件的状态，并以相应的规则保证状态以一种可预测的方式发生变化。</span><span class="inline-wrap"><b>大白话：vue<span class="jill"></span>的全局仓库，用来存放数据</b></span></div></div><div id="25rdELoCSpNXYWh63t4The" class="wolai-block wolai-text"><div><span class="inline-wrap">vuex<span class="jill"></span>质是单例模式的设计思想</span></div></div><ul class="wolai-block"><li id="mmoWoMdFrHbmHgXPgZhuFu"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">将共享的状态抽取出来, 交给大管家, 进行统一管理</span></li><li id="isV3QctkfeVdPTNsZSwkZk"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">之后, 每一个视图, 按照</span><span class="inline-wrap"><b>规定好的规则</b></span><span class="inline-wrap">, 执行访问或修改等操作.</span></li><li id="sAb8af23gjNaFpFjCy99CL"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">这就是<span class="jill"></span>vuex<span class="jill"></span>背后的思想.</span></li><li id="eKCm8hULjSLfZ9P1K3WNUu"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap"></span><br/></li></ul><div id="tw6HNetcDfknhHgCqPS3w2" class="wolai-block"><figure class="wolai-center" style="width: 100%"><img src="https://img-blog.csdnimg.cn/img_convert/f4de95ef82a8efa01052e98cdafcf047.png" style="width: 560.8px"/></figure></div><h2 id="YmNMDckhuKYotNES4jScC" class="wolai-block"><span class="inline-wrap">2、vuex<span class="jill"></span>的组成</span></h2><div id="aRunGHBX6c1QJe6itGjqQu" class="wolai-block wolai-text"><div><span class="inline-wrap">state-----</span><span class="inline-wrap"><a href="https://so.csdn.net/so/search?q=%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93&amp;spm=1001.2101.3001.7020"><span>数据仓库</span></a></span></div></div><div id="ijqs5nUZ7GSG5RdtgiSQph" class="wolai-block wolai-text"><div><span class="inline-wrap">getter------用户获取数据</span></div></div><div id="71Zz2gRYbYfJVESjSfo8QT" class="wolai-block wolai-text"><div><span class="inline-wrap">mutation---------用户修改数据</span></div></div><div id="tTGktQnJ9uw1kVw3imngRS" class="wolai-block wolai-text"><div><span class="inline-wrap">action-------用户提交<span class="jill"></span>mutation</span></div></div><h2 id="shBgkQg6LuZN14Mzzp5nM6" class="wolai-block"><span class="inline-wrap">3、vuex<span class="jill"></span>的安装</span></h2><h3 id="rKzXEUNeDCJ5HjaP15mAg6" class="wolai-block"><span class="inline-wrap">第一步: 添加<span class="jill"></span>vuex<span class="jill"></span>代码文件夹</span></h3><div id="8AaiPecME2QdrAZyN3iX5V" class="wolai-block wolai-text"><div><span class="inline-wrap">在<span class="jill"></span>src<span class="jill"></span>目录下新建/src/store/index.js. 通常, vuex<span class="jill"></span>都放在<span class="jill"></span>store<span class="jill"></span>文件夹里面. 然后在<span class="jill"></span>store<span class="jill"></span>下面创建一个文件<span class="jill"></span>index.js</span></div></div><h3 id="too7PUiAaa9As1SMLW1S5D" class="wolai-block"><span class="inline-wrap">第二步: 在<span class="jill"></span>index.js<span class="jill"></span>文件中定义<span class="jill"></span>vuex<span class="jill"></span>组件.</span></h3><div id="kEeD1qLQKkjL6u2pTVPcV1" class="wolai-block wolai-text"><div><span class="inline-wrap">vuex<span class="jill"></span>是一个插件, vue-router<span class="jill"></span>也是一个插件, 插件的使用方式都是类似的.</span></div></div><div id="tNp1W9eNiNSbgTXfcW6M4U" class="wolai-block wolai-text"><div><span class="inline-wrap">1: 引入<span class="jill"></span>vue<span class="jill"></span>和<span class="jill"></span>vuex</span></div></div><div id="6fKVw7PevLcyKa2GxcB9ob" class="wolai-block wolai-text"><div><span class="inline-wrap">2: 安装<span class="jill"></span>vuex</span></div></div><code-block id="ucmtDkuyTtyPK11gyVBT5T" class="wolai-block"><div class="wolai-pre"><div data-lang="" class="marker"></div><pre><span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span><span class="token maybe-class-name">Vuex</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre></div></code-block><div id="Rv1T22WoAvUQ4NYWtcF93" class="wolai-block wolai-text"><div><span class="inline-wrap">3: 创建<span class="jill"></span>vuex<span class="jill"></span>对象</span></div></div><div id="cnvj1WzcH6bVR37ybczvwV" class="wolai-block wolai-text"><div><span class="inline-wrap">在<span class="jill"></span>store<span class="jill"></span>中定义了<span class="jill"></span>5<span class="jill"></span>个对象, 这<span class="jill"></span>5<span class="jill"></span>个对象是固定的. 每个对象的含义是什么呢? 后面在详细说.</span></div></div><div id="c4PbJk7i4KNkg2jmfEgC8g" class="wolai-block wolai-text"><div><span class="inline-wrap">4: 导出<span class="jill"></span>vuex</span></div></div><code-block id="jKJR9jBNgWJFeteLFfPX1Q" class="wolai-block"><div class="wolai-pre"><div data-lang="" class="marker"></div><pre><span class="token keyword module">export</span> <span class="token keyword module">default</span> store<span class="token punctuation">;</span>
</pre></div></code-block><div id="3TRxf7MTYyHMRGhSBAfWUg" class="wolai-block wolai-text"><div><span class="inline-wrap">5: 在<span class="jill"></span>main.js<span class="jill"></span>中引入<span class="jill"></span>vuex</span></div><code-block id="kZnrgFwvUAcbgYH9DgwqRJ" class="wolai-block"><div class="wolai-pre"><div data-lang="" class="marker"></div><pre>store <span class="token keyword module">from</span> <span class="token string">'./store/index'</span><span class="token punctuation">;</span><span class="token punctuation">.</span><span class="token property-access">config</span><span class="token punctuation">.</span><span class="token property-access">productionTip</span> <span class="token operator">=</span> <span class="token boolean">false</span><span class="token comment">/* eslint-disable no-new */</span></pre></div></code-block></div><h2 id="osVyDqC8nVnGj7ifQf7M2" class="wolai-block"><span class="inline-wrap">4、Vuex<span class="jill"></span>使用的场景</span></h2><div id="thWH3wKEN3q1roTWiNgYrx" class="wolai-block wolai-text"><div><span class="inline-wrap"><b>1. 不适用：小型简单应用，用 Vuex 是繁琐冗余的，更适合使用简单的<span class="jill"></span> </b></span><span class="inline-wrap"><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fcn.vuejs.org%2Fv2%2Fguide%2Fstate-management.html%23%25E7%25AE%2580%25E5%258D%2595%25E7%258A%25B6%25E6%2580%2581%25E7%25AE%25A1%25E7%2590%2586%25E8%25B5%25B7%25E6%25AD%25A5%25E4%25BD%25BF%25E7%2594%25A8"><span><b>store 模式</b></span></a></span><span class="inline-wrap"><b>。</b></span><span class="inline-wrap"> </span></div></div><div id="6M3zjGXiiW4SAZmbjdZLrP" class="wolai-block wolai-text"><div><span class="inline-wrap"><b>2. 适用于：中大型单页应用，你可能会考虑如何把组件的共享状态抽取出来，以一个全局单例模式管理，不管在哪个组件，都能获取状态/触发行为，解决问题</b></span></div></div><h2 id="ij6hBKy33iej9bxrGxBzvn" class="wolai-block"><span class="inline-wrap">5、 <span class="jill"></span>引入<span class="jill"></span>vuex<span class="jill"></span>中各属性对应的辅助函数</span></h2><div id="wsYJCHNAhRWfBvaPCkxm3i" class="wolai-block wolai-text"><div><span class="inline-wrap">import {mapActions, mapState,mapGetters} from &#39;vuex&#39; //注册 action 、 state 、getter</span></div></div><h2 id="fhETposbTUV1P4aCMBaf2w" class="wolai-block"><span class="inline-wrap">6、State<span class="jill"></span>单一状态树</span></h2><div id="8aitS6jVSov4bZSFTvtPY9" class="wolai-block wolai-text"><div><span class="inline-wrap">Vuex 使用</span><span class="inline-wrap"><b>单一状态树</b></span><span class="inline-wrap">——是的，用一个对象就包含了全部的应用层级状态。至此它便作为一个“唯一数据源 (</span><span class="inline-wrap"><a href="https://en.wikipedia.org/wiki/Single_source_of_truth"><span>SSOT</span></a></span><span class="inline-wrap">)”而存在。这也意味着，每个应用将仅仅包含一个 store 实例。单一状态树让我们能够直接地定位任一特定的状态片段，在调试的过程中也能轻易地取得整个当前应用状态的快照。</span></div></div><div id="nGEU7ZEUMiA3uyE4kQCWBA" class="wolai-block wolai-text"><div><span class="inline-wrap">比如我们的个人信息,社保信息存在社保系统里, 公积金信息存在公积金系统里, 医保信息存在医保系统里. 这有有好处也有坏处, 好处是信息更安全,彼此隔离; 坏处是要是办某一件事,想要所有的信息, 就要跑很多地方取.</span></div></div><div id="jWAwZnXHWzDYatRnXM4Nj1" class="wolai-block wolai-text"><div><span class="inline-wrap">而单一状态树的含义就是将所有的信息都存在一个<span class="jill"></span>store<span class="jill"></span>中, 如果需要什么数据, 直接去那一个<span class="jill"></span>store<span class="jill"></span>中取就好了. 不要在系统中定义多个<span class="jill"></span>store, 这样不方便管理和维护.</span></div></div><div id="drUNhnX2ywi84JtTZvNQKN" class="wolai-block wolai-text"><div><span class="inline-wrap"><b>单一状态树的含义: 在一个项目只建一个<span class="jill"></span>store.</b></span></div></div></article><footer></footer></body></html>