<!DOCTYPE html>
<html lang="zh-Hans-CN"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=Edge"/><link rel="stylesheet" type="text/css" href="../css/modern-norm.min.css"/><link rel="stylesheet" type="text/css" href="../css/prism.min.css"/><link rel="stylesheet" type="text/css" href="../css/katex.min.css"/><link rel="stylesheet" type="text/css" href="../css/wolai.css"/><title>并查集 - wolai 笔记</title><link rel="shortcut icon" href="data:image/svg+xml,%3Csvg xmlns=&apos;http://www.w3.org/2000/svg&apos; viewBox=&apos;0 0 800 800&apos;%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fff;%7D%3C/style%3E%3C/defs%3E%3Cg%3E%3Cpath class=&apos;cls-1&apos; d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Z&apos;/%3E%3Cpath d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Zm4.72,88.9H185.2L172.42,89c-32.78.62-43.68,3.24-54.71,9.14a45.84,45.84,0,0,0-19.54,19.54c-6.61,12.36-9.11,24.55-9.27,67.49V614.8L89,627.58c.62,32.78,3.24,43.68,9.14,54.71a45.84,45.84,0,0,0,19.54,19.54c12.36,6.61,24.55,9.11,67.49,9.27H610.08c46.79,0,59.41-2.44,72.21-9.28a45.84,45.84,0,0,0,19.54-19.54c6.61-12.36,9.11-24.55,9.27-67.49V189.92c0-46.79-2.44-59.41-9.28-72.21a45.84,45.84,0,0,0-19.54-19.54C669.93,91.56,657.74,89.06,614.8,88.9ZM233.33,493.33A73.34,73.34,0,1,1,160,566.67,73.35,73.35,0,0,1,233.33,493.33Z&apos;/%3E%3C/g%3E%3C/svg%3E"></link></head><body><header><div class="image"></div><div class="title"><div class="banner"><div class="icon"></div></div><div data-title="并查集" class="main-title"></div></div></header><article><div id="oaSVsYWsdE6aJHRQWCFMCs" class="wolai-bookmark wolai-block"><a href="https://blog.csdn.net/the_ZED/article/details/105126583?ops_request_misc=%7B%22request_id%22%3A%22165168129116781818721978%22%2C%22scm%22%3A%2220140713.130102334..%22%7D&amp;request_id=165168129116781818721978&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-105126583.142%5Ev9%5Econtrol,157%5Ev4%5Econtrol&amp;utm_term=%E5%B9%B6%E6%9F%A5%E9%9B%86&amp;spm=1018.2226.3001.4187">https://blog.csdn.net/the_ZED/article/details/105126583?ops_request_misc={&quot;request_id&quot;%3A&quot;165168129116781818721978&quot;%2C&quot;scm&quot;%3A&quot;20140713.130102334..&quot;}&amp;request_id=165168129116781818721978&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-105126583.142^v9^control,157^v4^control&amp;utm_term=并查集&amp;spm=1018.2226.3001.4187</a><div class="info-box"><div class="text-pane"><div data-title="blog.csdn.net"></div><div class="icon-host"><div data-hostname="blog.csdn.net"></div></div></div><div class="preview-pane"></div></div></div><ol class="wolai-block"><li id="eFVCyRHuugjXEoGvL5hhwa"><div class="marker"></div><span class="inline-wrap">总结</span></li></ol><div id="f5gvwxNYP9wvJptYpZ4AWp" class="wolai-block wolai-text"><div><span class="inline-wrap">1、用集合中的某个元素来代表这个集合，则该元素称为此集合的代表元；</span></div></div><div id="4TGxzPY6Mwpz2LguQAZdSL" class="wolai-block wolai-text"><div><span class="inline-wrap">2 、一个集合内的所有元素组织成以代表元为根的树形结构；</span></div></div><div id="rcrngkSudTwkaNWFziw3BW" class="wolai-block wolai-text"><div><span class="inline-wrap">3 、对于每一个元素 x，pre[x] 存放 x 在树形结构中的父亲节点（如果 x 是根节点，则令<span class="jill"></span>pre[x] = x）；</span></div></div><div id="tBMwq6M6tewLVR64YjRDTz" class="wolai-block wolai-text"><div><span class="inline-wrap">4 、对于查找操作，假设需要确定 x 所在的的集合，也就是确定集合的代表元。可以沿着<span class="jill"></span>pre[x]不断在树形结构中向上移动，直到到达根节点。</span></div></div><div id="5QoDW5DksecB8vfDZPhTm6" class="wolai-block wolai-text"><div><span class="inline-wrap">因此，基于这样的特性，并查集的主要用途有以下两点：</span></div></div><div id="o6fTSsrf2VbTp6hwyNi9Ac" class="wolai-block wolai-text"><div><span class="inline-wrap">1、维护无向图的连通性（判断两个点是否在同一连通块内，或增加一条边后是否会产生环）；</span></div></div><div id="swGRtgmkXnABCLGcNuJqV9" class="wolai-block wolai-text"><div><span class="inline-wrap"><b>2、用在求解最小生成树的<span class="jill"></span>Kruskal<span class="jill"></span>算法里。</b></span></div></div><div id="wUcpHsmBoaMRKB5Ga2wGeK" class="wolai-block wolai-text"><div><span class="inline-wrap">t pre[MAX_NODE+1];
  int rank[MAX_NODE+1];
</span></div></div><code-block id="8UDRfHxLU4Y5fcK8V9CiQz" class="wolai-block"><div class="wolai-pre"><div data-lang="C++" class="marker"></div><pre><span class="token comment">//并查集.h</span>
#define <span class="token constant">MAX_NODE</span> <span class="token number">20</span>
<span class="token keyword">class</span> <span class="token class-name">DSU</span>
<span class="token punctuation">{</span>
<span class="token keyword">private</span><span class="token operator">:</span>
  int pre<span class="token punctuation">[</span><span class="token constant">MAX_NODE</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  int rank<span class="token punctuation">[</span><span class="token constant">MAX_NODE</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">public</span><span class="token operator">:</span>
  int <span class="token constant">N</span> <span class="token operator">=</span> <span class="token constant">MAX_NODE</span><span class="token punctuation">;</span>
  <span class="token keyword">void</span> <span class="token function"><span class="token maybe-class-name">Init</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  int <span class="token function"><span class="token maybe-class-name">Find</span></span><span class="token punctuation">(</span>int x<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">void</span> <span class="token function"><span class="token maybe-class-name">Join</span></span><span class="token punctuation">(</span>int x<span class="token punctuation">,</span> int y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre></div></code-block><h2 id="9VN9WoqrRjp2BNcYe2LaKV" class="wolai-block"><span class="inline-wrap">初始化</span></h2><code-block id="fd9WBnaozCU2Uu1ebKbRJp" class="wolai-block"><div class="wolai-pre"><div data-lang="C++" class="marker"></div><pre><span class="token keyword">void</span> <span class="token constant">DSU</span><span class="token operator">:</span><span class="token operator">:</span><span class="token function"><span class="token maybe-class-name">Init</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token keyword control-flow">for</span> <span class="token punctuation">(</span>int i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">></span><span class="token constant">N</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">></span>pre<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">></span>rank<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow">return</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></pre></div></code-block><h2 id="kJUcuZ3xZJnQXwaf1yuKNf" class="wolai-block"><span class="inline-wrap">查找</span></h2><code-block id="f7wkQsTk1bbqApEPcQqEyg" class="wolai-block"><div class="wolai-pre"><div data-lang="C++" class="marker"></div><pre>int <span class="token constant">DSU</span><span class="token operator">:</span><span class="token operator">:</span><span class="token function"><span class="token maybe-class-name">Find</span></span><span class="token punctuation">(</span><span class="token parameter">int x</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token keyword control-flow">while</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">></span>pre<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">!=</span> x<span class="token punctuation">)</span> x <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">></span>pre<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">return</span> x<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre></div></code-block><h2 id="7hmnHsEwzM5VcjXwtwUqwA" class="wolai-block"><span class="inline-wrap">优化<span class="jill"></span>1<span class="jill"></span>查找且路径压缩</span></h2><code-block id="cajMpjQBSjpXCQb19FBY8H" class="wolai-block"><div class="wolai-pre"><div data-lang="C++" class="marker"></div><pre>int <span class="token function"><span class="token maybe-class-name">Find</span></span><span class="token punctuation">(</span><span class="token parameter">int x</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token keyword control-flow">if</span><span class="token punctuation">(</span><span class="token function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token operator">!=</span>x<span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
    <span class="token function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token operator">=</span><span class="token function"><span class="token maybe-class-name">Find</span></span><span class="token punctuation">(</span><span class="token function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow">return</span> <span class="token function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></pre></div></code-block><aside id="bRz87zNKmHnpWNsiCaEvf2" class="bg-cultured wolai-block"><div data-symbol="✒️" class="icon"></div><span class="inline-wrap">感觉我这里没有更新<span class="jill"></span>rank<span class="jill"></span>函数唉？真的不会有事吗</span><div id="eKoDbExctRY4WmonL53auk" class="wolai-block wolai-text"><div><span class="inline-wrap">哦没事了，我跟本没有联合按秩合并一起写</span></div></div><div id="uDF33Hs6gNkN4XAUKMbR5d" class="wolai-block wolai-text"><div><span class="inline-wrap">也就是这两种优化没必要一起搞？？</span></div></div><div id="7DzAmj6FpMVrUyKzbBpBRs" class="wolai-block wolai-text"><div><span class="inline-wrap">那种更优秀一点啊</span></div></div><div id="b737oC5HjXkfcuoQsbJSQJ" class="wolai-block wolai-text"><div><span class="inline-wrap">我的脑子好像解决不了这个问题</span></div></div></aside><h2 id="oudZ5uEBMFffYDKgSQSZGi" class="wolai-block"><span class="inline-wrap">优化<span class="jill"></span>2<span class="jill"></span>按秩合并</span></h2><h3 id="524PZMLo6zeXS8U2VVo18x" class="wolai-block"><span class="inline-wrap">version 1(感觉不太对）</span></h3><code-block id="eC7jSGtdDiWM6H2k3vJyYB" class="wolai-block"><div class="wolai-pre"><div data-lang="C++" class="marker"></div><pre><span class="token keyword">void</span> <span class="token constant">DSU</span><span class="token operator">:</span><span class="token operator">:</span><span class="token function"><span class="token maybe-class-name">Join</span></span><span class="token punctuation">(</span><span class="token parameter">int x<span class="token punctuation">,</span> int y</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  int fx<span class="token punctuation">,</span> fy<span class="token punctuation">;</span>
  fx <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">></span><span class="token function"><span class="token maybe-class-name">Find</span></span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
  fy <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">></span><span class="token function"><span class="token maybe-class-name">Find</span></span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>fx <span class="token operator">==</span> fy<span class="token punctuation">)</span> <span class="token keyword control-flow">return</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>rank<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">&lt;</span> rank<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
    pre<span class="token punctuation">[</span>fx<span class="token punctuation">]</span> <span class="token operator">=</span> fy<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow">else</span>
  <span class="token punctuation">{</span>
    pre<span class="token punctuation">[</span>fy<span class="token punctuation">]</span> <span class="token operator">=</span> fx<span class="token punctuation">;</span>
    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>rank<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">==</span> rank<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">)</span> rank<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow">return</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></pre></div></code-block><h3 id="2m9EBWMSRwwLajKNY8mxMH" class="wolai-block"><span class="inline-wrap">version 2</span></h3><code-block id="5aVKuCfUgvf3muCcyvgdcs" class="wolai-block"><div class="wolai-pre"><div data-lang="C++" class="marker"></div><pre><span class="token keyword">void</span> <span class="token constant">DSU</span><span class="token operator">:</span><span class="token operator">:</span><span class="token function"><span class="token maybe-class-name">Join</span></span><span class="token punctuation">(</span><span class="token parameter">int x<span class="token punctuation">,</span> int y</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  int fx<span class="token punctuation">,</span> fy<span class="token punctuation">;</span>
  fx <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">></span><span class="token function"><span class="token maybe-class-name">Find</span></span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
  fy <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">></span><span class="token function"><span class="token maybe-class-name">Find</span></span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>fx <span class="token operator">==</span> fy<span class="token punctuation">)</span> <span class="token keyword control-flow">return</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>rank<span class="token punctuation">[</span>fx<span class="token punctuation">]</span> <span class="token operator">&lt;</span> rank<span class="token punctuation">[</span>fy<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
    pre<span class="token punctuation">[</span>fx<span class="token punctuation">]</span> <span class="token operator">=</span> fy<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow">else</span>
  <span class="token punctuation">{</span>
    pre<span class="token punctuation">[</span>fy<span class="token punctuation">]</span> <span class="token operator">=</span> fx<span class="token punctuation">;</span>
    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>rank<span class="token punctuation">[</span>fx<span class="token punctuation">]</span> <span class="token operator">==</span> rank<span class="token punctuation">[</span>fy<span class="token punctuation">]</span><span class="token punctuation">)</span> rank<span class="token punctuation">[</span>fx<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow">return</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></pre></div></code-block><aside id="wuCembaAQZjfZi3xNvUVns" class="bg-cultured wolai-block"><div data-symbol="✒️" class="icon"></div><span class="inline-wrap">感觉我的脑子又不好了。。</span><div id="rD4muPqKdCu8ZsEHWqKAKn" class="wolai-block wolai-text"><div><span class="inline-wrap">难道把<span class="jill"></span>fx<span class="jill"></span>挂在<span class="jill"></span>fy<span class="jill"></span>下面的时候，fx<span class="jill"></span>下面的<span class="jill"></span>rank<span class="jill"></span>不会全部<span class="jill"></span>++ 的吗？</span></div></div><hr id="jiARMxxiXAc7ZtHgg6xvG3" class="wolai-block"/><div id="8UaeYkJ6JC2nBcFgdzSFBg" class="wolai-block wolai-text"><div><span class="inline-wrap">所以我感觉。。之前的算法写错了。。</span></div></div><div id="gECMdVjgkf8W2jqhDa9gWE" class="wolai-block wolai-text"><div><span class="inline-wrap">至少<span class="jill"></span>rank<span class="jill"></span>的意思是树高不是树深</span></div></div><div id="teVXNLPMpYsFwrWGQWiUU6" class="wolai-block wolai-text"><div><span class="inline-wrap">所以改脑袋就行了不用改下面的</span></div></div><hr id="tQiVZWpPADC186BdcmS8hK" class="wolai-block"/><div id="u5u4XmwmJEW3CaXNcwCEFu" class="wolai-block wolai-text"><div><span class="inline-wrap">而且只要保证代表元的高度是整棵树的高度就可以了</span></div></div><div id="sihhQXP1NBcxAaEMMry6EZ" class="wolai-block wolai-text"><div><span class="inline-wrap">下面的树高可以不连续</span></div></div><div id="cApRJ6Gt2mZ96zeDW3hxeT" class="wolai-block wolai-text"><div><span class="inline-wrap">比如一棵</span></div></div><div id="vn2qoMFGN2PvuH5CoURHCV" class="wolai-block wolai-text"><div><span class="inline-wrap">         4</span></div></div><div id="etjKHocd3LgAZf7Xr3y5Le" class="wolai-block wolai-text"><div><span class="inline-wrap">   3          2</span></div></div><div id="oWznJpcAchGpvfA1W9d3ja" class="wolai-block wolai-text"><div><span class="inline-wrap"> 2    1    1    1</span></div></div><div id="7roCoKqfe67z6K2KoYvbKb" class="wolai-block wolai-text"><div><span class="inline-wrap">1  1</span></div></div></aside><div id="48Hr522VUcLDpLJzAXQBoj" class="wolai-block"><figure class="wolai-center" style="width: 100%"><img src="https://img-blog.csdnimg.cn/20210222022013234.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3RoZV9aRUQ=,size_16,color_FFFFFF,t_70" style="width: 1292px"/></figure></div><div id="21KEi1iitjhNz2gK6ANc6K" class="wolai-block"><figure class="wolai-center" style="width: 100%"><img src="media/image.png" style="width: 100%"/></figure></div><h2 id="5AaHDnT9nZU8BhCy5VaHvs" class="wolai-block"><span class="inline-wrap"><a href="https://www.wolai.com/3U6tErr8Gi1wDSqS5dUA3V#3U6tErr8Gi1wDSqS5dUA3V" class="wolai-bi-link"><span class="embed-page">【模板并查集】亲戚</span></a></span></h2><div id="w4SEDyUT3BnCnfMMgJ7ueM" class="wolai-bookmark wolai-block"><a href="https://www.luogu.com.cn/problem/P1551">亲戚 - 洛谷</a><div class="info-box"><div class="text-pane"><div data-title="亲戚 - 洛谷"></div><div class="icon-host"><div class="icon icon-image" style="background-image: url(&quot;https://www.luogu.com.cn/favicon.ico&quot;)"></div><div data-hostname="www.luogu.com.cn"></div></div></div><div class="preview-pane"></div></div></div><code-block id="2FxUoWCmXKCLnHQJSME56X" class="wolai-block"><div class="wolai-pre"><div data-lang="C++" class="marker"></div><pre>int <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  int a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">,</span>d<span class="token punctuation">;</span>
  cin<span class="token operator">>></span>n<span class="token operator">>></span>m<span class="token operator">>></span>p<span class="token punctuation">;</span>
  <span class="token constant">DSU</span> <span class="token constant">D</span><span class="token punctuation">;</span>
  <span class="token constant">D</span><span class="token operator">-</span><span class="token operator">></span><span class="token constant">N</span><span class="token operator">=</span>n<span class="token punctuation">;</span>
  <span class="token constant">D</span><span class="token operator">-</span><span class="token operator">></span><span class="token function"><span class="token maybe-class-name">Init</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">for</span><span class="token punctuation">(</span>int i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>m<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      cin<span class="token operator">>></span>c<span class="token operator">>></span>d<span class="token punctuation">;</span>
      <span class="token constant">D</span><span class="token operator">-</span><span class="token operator">></span><span class="token function"><span class="token maybe-class-name">Join</span></span><span class="token punctuation">(</span>c<span class="token punctuation">,</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow">for</span><span class="token punctuation">(</span>int i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>p<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
    cin<span class="token operator">>></span>a<span class="token operator">>></span>b<span class="token punctuation">;</span>
    <span class="token keyword control-flow">if</span><span class="token punctuation">(</span><span class="token constant">D</span><span class="token operator">-</span><span class="token operator">></span><span class="token function"><span class="token maybe-class-name">Find</span></span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token operator">==</span><span class="token constant">D</span><span class="token operator">-</span><span class="token operator">></span><span class="token function"><span class="token maybe-class-name">Find</span></span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span>
      cout<span class="token operator">&lt;&lt;</span><span class="token string">"Yes"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
    <span class="token keyword control-flow">else</span>
      cout<span class="token operator">&lt;&lt;</span><span class="token string">"No"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></pre></div></code-block></article><footer></footer></body></html>