<!DOCTYPE html>
<html lang="zh-Hans-CN"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=Edge"/><link rel="stylesheet" type="text/css" href="../../css/modern-norm.min.css"/><link rel="stylesheet" type="text/css" href="../../css/prism.min.css"/><link rel="stylesheet" type="text/css" href="../../css/katex.min.css"/><link rel="stylesheet" type="text/css" href="../../css/wolai.css"/><title>网络体系结构 - wolai 笔记</title><link rel="shortcut icon" href="data:image/svg+xml,%3Csvg xmlns=&apos;http://www.w3.org/2000/svg&apos; viewBox=&apos;0 0 800 800&apos;%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fff;%7D%3C/style%3E%3C/defs%3E%3Cg%3E%3Cpath class=&apos;cls-1&apos; d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Z&apos;/%3E%3Cpath d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Zm4.72,88.9H185.2L172.42,89c-32.78.62-43.68,3.24-54.71,9.14a45.84,45.84,0,0,0-19.54,19.54c-6.61,12.36-9.11,24.55-9.27,67.49V614.8L89,627.58c.62,32.78,3.24,43.68,9.14,54.71a45.84,45.84,0,0,0,19.54,19.54c12.36,6.61,24.55,9.11,67.49,9.27H610.08c46.79,0,59.41-2.44,72.21-9.28a45.84,45.84,0,0,0,19.54-19.54c6.61-12.36,9.11-24.55,9.27-67.49V189.92c0-46.79-2.44-59.41-9.28-72.21a45.84,45.84,0,0,0-19.54-19.54C669.93,91.56,657.74,89.06,614.8,88.9ZM233.33,493.33A73.34,73.34,0,1,1,160,566.67,73.35,73.35,0,0,1,233.33,493.33Z&apos;/%3E%3C/g%3E%3C/svg%3E"></link></head><body><header><div class="image"></div><div class="title"><div class="banner"><div data-symbol="⭐" class="icon"></div></div><div data-title="网络体系结构" class="main-title"></div></div></header><article><div id="2JbBYsRSQiL4PLSCYgEqX7" class="wolai-block wolai-text"><div><span class="inline-wrap"><b>层和协议的集合称为网络体系结构（network Architecture）。</b></span></div></div><h1 id="tzWa12uoAkC7W56RWTF4QF" class="wolai-block"><span class="inline-wrap">协议层次结构</span></h1><h2 id="GVgs48KKrG3SkxfF36NJQ" class="wolai-block"><span class="inline-wrap">层次栈 stack of layer</span></h2><blockquote id="bVZpDkCw4MRnWcLbXBpsxj" class="wolai-block"><span class="inline-wrap">为了降低网络设计的复杂性，绝大多数网络都组织成一个层次栈（a stack of layer）或分级栈（a stack of level），每一层都建立在其下一层的基础之上。</span><div id="citxxHjXvb2D7ivZNUj3x" class="wolai-block wolai-text"><div><span class="bg-blond inline-wrap"><b>层的个数、每一层的名字、每一层的内容以及每一层的功能各个网络不尽相同。</b></span></div></div><div id="tEnH67fq7EhKCRQraTb8G3" class="wolai-block wolai-text"><div><span class="bg-blond inline-wrap"><b>每一层的目的是向上一层提供特定的服务，而把如何实现这些服务的细节对上一层加以屏蔽。</b></span></div></div><div id="3deK7TLp8enwmfVKpBFtQ2" class="wolai-block wolai-text"><div><span class="bg-blond inline-wrap"><b>从某种意义上讲，每一层都是一种虚拟机，它向上一层提供特定的服务。</b></span></div></div><div id="bCsN4UC43rtrKFFcjXcHqc" class="wolai-block wolai-text"><div><span class="inline-wrap">
这种分层的概念实际上并不陌生，它已被广泛应用于计算机科学领域中，只是具有不同的称谓，包括信息隐藏、抽象数据类型、数据封装以及面向对象程序设计。其基本思想是一个特定的软件（或硬件）向其用户提供某种服务，但是将内部状态和算法的细节隐藏起来。</span></div></div></blockquote><h2 id="aiJu8gbt2AZQcRV1uxhjCq" class="wolai-block"><span class="inline-wrap">协议（protocol）</span></h2><blockquote id="2D5S1Yeha7FT4d4PxnmQ1L" class="wolai-block"><span class="inline-wrap">一台机器上的第 n 层与另一台机器上的第 n 层进行对话，该对话中使用的规则和约定统称为第 n 层协议。</span><div id="memEgvD72vxLG7PjHwp2uY" class="wolai-block wolai-text"><div><span class="inline-wrap">是指通信双方关于如何进行通信的一种约定。</span></div></div></blockquote><h2 id="fx64nnU4oUYXdA2vqETCFw" class="wolai-block"><span class="inline-wrap">对等体（peer）</span></h2><blockquote id="pJWQtE4SATvjCik1F5BmYq" class="wolai-block"><span class="inline-wrap">不同机器上构成相应层次的实体称为对等体（peer）。</span><div id="uTBU6MugX1neeHYGyofrhK" class="wolai-block wolai-text"><div><span class="inline-wrap">这些对等体可能是软件过程、硬件设备，或者甚至是人类。</span></div></div><div id="wcwuCX1WkajD43TWxjTc9c" class="wolai-block wolai-text"><div><span class="inline-wrap">换句话说，正是这些对等体为了实现彼此沟通才使用协议来进行通信</span></div></div></blockquote><div id="axsZzCCxjpjS6kGHYpvKBv" class="wolai-block"><figure class="wolai-center" style="width: 100%"><img src="media/image.png" alt="实际上，数据并不是从一台机器的第 n 层直接传递到另一台机器的第 n 层。相反，每一层都将数据和控制信息传递给它的下一层，这样一直传递到最低层。第 1 层下面是物理介质（physical medium），通过它进行实际的通信。在图 1-13 中，虚线表示虚拟通信，实线表示物理通信。" style="width: 540px"/><figcaption>实际上，数据并不是从一台机器的第 n 层直接传递到另一台机器的第 n 层。相反，每一层都将数据和控制信息传递给它的下一层，这样一直传递到最低层。第 1 层下面是物理介质（physical medium），通过它进行实际的通信。在图 1-13 中，虚线表示虚拟通信，实线表示物理通信。</figcaption></figure></div><h2 id="6XFTCJ2tikpvkAXJacVjQm" class="wolai-block"><span class="inline-wrap">接口（interface）</span></h2><blockquote id="chD9w2wbzeuJK6MZ1AyYDY" class="wolai-block"><span class="inline-wrap"><b>接口定义了下层向上层提供哪些原语操作和服务。</b></span></blockquote><blockquote id="631GBTKEnN29XsidUeDqxN" class="wolai-block"><span class="bg-blond inline-wrap"><b>当网络设计者在决定一个网络中应该包含多少层，以及每一层应该提供哪些功能时，其中最重要的一个考虑是必须定义清楚层与层之间的接口。</b></span></blockquote><blockquote id="k98uYca6zQH1BbhSHEddFT" class="wolai-block"><span class="inline-wrap">为了做到这一点，</span><span class="bg-blond inline-wrap"><b>要求每一层完成一组特定的有明确含义的功能。除了尽可能地减少层与层之间必须要传递的信息量外，层与层之间清晰的接口使得同层协议的替换更加容易，</b></span><span class="inline-wrap">即某一层的当前协议或实现替换成另一个完全不同的协议或者实现 （比如说，所有的电话线路被替换成卫星信道）；</span></blockquote><h2 id="tmUKuEzbSSGFztzaXWT7DS" class="wolai-block"><span class="inline-wrap">WHY</span></h2><h4 id="3Fh6bpFHTZTKL6v4NjKjK6" class="wolai-block"><span class="inline-wrap">目的：分而治之，封装化</span></h4><div id="iP1bGsKKmAkhR1oc1VqM6b" class="wolai-block wolai-text"><div><span class="inline-wrap">解释协议的封装性和各层的独立性</span></div></div><div id="eq5NUHFEgyb57wsZRsD3sx" class="wolai-block wolai-text"><div><span class="inline-wrap">只要保护接口关系不变，任何一层次功能的变化只需要改变同一层次的实现。例如翻译成法语而不是英语，也是可以进行对话；或传真改为电话</span></div></div><div id="98Dx2Uu9vf3rsRmW5qUXsr" class="wolai-block wolai-text"><div><span class="inline-wrap">下层都是向上层提供服务</span></div></div><ul class="wolai-block"><li id="gsyqoSCGyvGSg1thoNZ83i"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">分而治之，降低难度</span></li><li id="39nK5WNhMpKFt4fm6TEwqW"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">可以复用</span></li><li id="gQFVzrW4RHg5hfCnHfQLZo"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">减少代码的复杂度</span></li></ul><h2 id="d2fqbdX45GjSxH4w4Wis6Q" class="wolai-block"><span class="inline-wrap">协议栈（protocolstack）</span></h2><blockquote id="b9W1onpFBij7gZ7FVZ5eZ1" class="wolai-block"><span class="inline-wrap">网络体系结构的规范必须包含足够的信息，以便实现者为每一层编写的程序或者设计的硬件能遵守有关的协议。</span><span class="bg-blond inline-wrap"><b>实现细节和接口规范不属于网络体系结构的内容，因为它们隐藏在机器内部，对于外界是不可见的。甚至，一个网络中所有机器上的接口也不必都一样，只要每台机器能够正确地使用所有的协议即可。</b></span><span class="inline-wrap">一个特定的系统所使用的一组协议，即每一层一个协议，称为协议栈（protocol stack）。网络体系结构、协议栈以及协议本身是本书的主要内容。</span></blockquote><div id="QiB7hrhfyjTscBd58NEeQ" class="wolai-block wolai-text"><div><span class="inline-wrap">计算机网络体系结构同样采用层次结构，它以功能作为划分层次的基础。</span></div></div><div id="wZPAmwnQf68MnCRsXfrYcz" class="wolai-block wolai-text"><div><span class="inline-wrap">每一层中任何可以发送或接收信息的硬件/软件进程称为实体，它是活跃元素；位于不同系统内同一层次的两个实体称为对等实体；</span></div></div><div id="aPxmYTS99gpov87BS7aDcW" class="wolai-block wolai-text"><div><span class="inline-wrap">Pn<span class="jill"></span>是指第<span class="jill"></span>n<span class="jill"></span>层协议，是一台机器的第<span class="jill"></span>n<span class="jill"></span>层与另一台机器的第<span class="jill"></span>n<span class="jill"></span>层对话使用的协议，它作用在对等实体之间；</span><span class="inline-wrap"><b>某一系统内的各层协议集称为协议栈。</b></span></div></div><aside id="7V2W33QVCLBa3zPMzN7GML" class="bg-cultured wolai-block"><div data-symbol="✒️" class="icon"></div><span class="inline-wrap">值得指出的是，</span><span class="bg-blond inline-wrap"><b>协议层次结构中的较低层往往由硬件
或者固件实现。</b></span><span class="inline-wrap">然而，即使它们被（全部或者部分）嵌入到硬件中，仍然会涉及复杂的协议算法</span></aside><h1 id="2MiJbKrw6HbZFPGyMmZhZH" class="wolai-block"><span class="inline-wrap">*层次设计问题</span></h1><div id="35YXfnLds7SdnCPH3MguYe" class="wolai-block"><figure class="wolai-center" style="width: 100%"><img src="media/image_1.png" style="width: 100%"/></figure></div><h1 id="uNxajJsCMpQoEA4a4ZX2dv" class="wolai-block"><span class="inline-wrap">服务</span></h1><h2 id="bAMYN2m68kwHRp73uV4UWR" class="wolai-block"><span class="inline-wrap">面向连接的服务</span></h2><aside id="5uWDSQ1592H8z6fsELJhGE" class="bg-cultured wolai-block"><div data-symbol="✒️" class="icon"></div><span class="inline-wrap">面向连接是不一定可靠的，除非收方需要确认，进行有确认服务连接</span></aside><h2 id="gJLx1CPbLGNQ2AF61HPbsu" class="wolai-block"><span class="inline-wrap">无连接的服务</span><h3 id="wdCoFyrmwTE2FfZeeZn59x" class="wolai-block"><span class="inline-wrap">不可靠：数据报服务</span></h3><h3 id="paMMMRu4S1v2aytEGKNmeo" class="wolai-block"><span class="inline-wrap">可靠：有确认的数据报服务</span></h3><h3 id="rwqtyfP9GVJPBYLcLqhdS9" class="wolai-block"><span class="inline-wrap">请求-应答</span></h3></h2><h2 id="8ZJk3c7jwvFtu6A4U4Dz7m" class="wolai-block"><span class="inline-wrap">*服务原语</span></h2><h1 id="djc1yeTr7A7JXT1E4Df21u" class="wolai-block"><span class="inline-wrap">⭐</span><span class="inline-wrap">服务与协议的关系</span></h1><ul class="wolai-block"><li id="eMWWFq3xV9RhD2yJg53obj"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">协议和服务相互依赖，相互支持。没有协议就没有服务，没有服务就无法执行协议。</span></li><li id="tZPudu9h7JGzd1iqWpCTt4"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">协议和服务都遵循分层原则，每一层都有自己的协议和服务。上一层只能看到下一层提供的服务，而不知道其具体实现细节。</span></li><li id="92MTEYmuyhq517oWz5FdBA"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">但是。</span></li></ul><blockquote id="xnPXEJaUcH4aUQ7rrHgFzs" class="wolai-block"><span class="inline-wrap">服务是指某一层向它上一层提供的一组原语（操作）。服务定义了该层准备代表其用户执行哪些操作，但是它并不涉及如何实现这些操作。服务与两层之间的接口有关，低层是服务提供者，而上层是服务用户。</span></blockquote><blockquote id="mgmYM6CN61BjE3okH1K8bL" class="wolai-block"><span class="inline-wrap">协议是一组规则，规定了同一层上对等实体之间所交换的数据包或者报文的格式和含义。对等实体利用协议来实现它们的服务定义，它们可以自由地改变协议，只要不改变呈现给它们用户的服务即可。按照这种方式，服务和协议是完全相分离的。</span></blockquote><blockquote id="oTGm6t8mfCHALjUxtXa14e" class="wolai-block"><span class="inline-wrap">服务涉及层与层之间的接口，如图 1-19 所示。相反，协议涉及不同机器上两个对等实体之间发送的数据包。</span></blockquote><div id="vfgqKFjHuKq5zUq1zBTRgt" class="wolai-block"><figure class="wolai-center" style="width: 100%"><img src="media/image_2.png" style="width: 301.6px"/></figure></div><h1 id="ehv3Yj3CRJ5T1DdFnYtj4k" class="wolai-block"><span class="inline-wrap">参考模型</span></h1><div id="56e4Y3118uhMs6iTdVsQev" class="wolai-block wolai-text"><div><span class="inline-wrap">我们将讨论两个重要的网络体系结构：OSI 参考模型和 TCP/IP 参考模型。</span></div></div><div id="4FvXLKzg2Qbk4DnYRBQJgg" class="wolai-block wolai-text"><div><span class="inline-wrap">虽然与 OSI 模型相关的协议没有被任何人所用，但实际上，该模型本身具有相当普遍意义，并仍然有效；它对讨论网络体系结构中每一层的功能还是很重要。</span></div></div><div id="8BFNjN8YtscMWbk8fUuBQN" class="wolai-block wolai-text"><div><span class="inline-wrap">TCP/IP 协议模型则具有相反的特性：模型本身没有多大用处，但它的协议却已经广为流传。</span></div></div><h2 id="3rrmgv8VNQTPHf371w93B7" class="wolai-block"><span class="inline-wrap">OSI<span class="jill"></span>七层</span></h2><div id="nC1iAyc4unte5o54d2v6V1" class="wolai-block wolai-text"><div><span class="inline-wrap">这个模型称为 ISO 的开放系统互连（OSI，Open Systems Interconnection）参考模型，因为它涉及如何连接开放的系统——即那些为了与其他系统通信而开放的系统。为了简短起见，我们将它简称为 OSI<span class="jill"></span>模型。</span></div></div><aside id="bSa8awXmx15p7A8rxp9TtY" class="bg-cultured wolai-block"><div data-symbol="✒️" class="icon"></div><span class="inline-wrap">请注意，</span><span class="inline-wrap"><b>OSI 参考模型本身并不是一个网络体系结构，因为它并没有定义每一层的服务和所用的协议。它只是指明了每一层应该做些什么事。</b></span><span class="inline-wrap">然而，ISO 已经为所有层都制定了相应的标准，虽然这些标准并不属于参考模型本身。每个协议都是作为单独的国际标准发布的。模型（部分地）得到了广泛的使用，尽管与之相关的协议早已被遗忘多时。</span></aside><h3 id="3uDuNLyggapFm3NFC8Ebea" class="wolai-block"><span class="inline-wrap">网络层</span></h3><div id="nU37Xu6pASmqWEaY4M4oPJ" class="wolai-block wolai-text"><div><span class="inline-wrap">网络层（network layer）的主要功能是控制子网的运行。</span></div></div><div id="fDq7VPhFSnGz2yoMBwjJBm" class="wolai-block wolai-text"><div><span class="inline-wrap">大概的指责/功能</span></div></div><h4 id="7N8me4GSAS2JcekiC1haBa" class="wolai-block"><span class="inline-wrap">1.将数据包从源端路由到接收方</span></h4><aside id="7vQnEgHgX8FTBntftwmWZ" class="bg-cultured wolai-block"><div data-symbol="✒️" class="icon"></div><span class="inline-wrap">在广播式网络中，路由问题比较简单，所以网络层往往比较单薄，甚至根本不存在</span></aside><h4 id="9NUuWoxSCj3ALXQg3AW2nn" class="wolai-block"><span class="inline-wrap">2.处理拥塞</span></h4><h4 id="3e5EANqSfG59Pz8fM7YKVS" class="wolai-block"><span class="inline-wrap">3.允许异构网络相互连接成为互联网络</span></h4><h3 id="xfG9q6TsMqFE1uqrUzK22J" class="wolai-block"><span class="inline-wrap">传输层</span></h3><div id="86EXWXwaQjD4FdMPk9tNnt" class="wolai-block wolai-text"><div><span class="inline-wrap">传输层（transport layer）的基本功能是接收来自上一层的数据，在必要的时候把这些数据分割成较小的单元，然后把这些数据单元传递给网络层，并且确保这些数据单元正确地到达另一端。而且，所有这些工作都必须高效率同时以一种上下隔离的方式完成，即随着时间的推移导致底层硬件技术不可避免地发生改变时，对上面各层是透明的。</span></div></div><div id="mAc2ayVy2mmgztrhwEHjU2" class="wolai-block wolai-text"><div><span class="inline-wrap">传输层还决定了向会话层，因而是实际的最终网络用户提供哪种类型的服务。其中最为常见的传输连接是一个完全无错的点-点信道，此信道按照原始发送的顺序来传输报文或者字节数据。然而，其他类型的传输服务也有可能，例如传输独立的报文但不保证传送的顺序、将报文广播给多个目标节点等。服务的类型是在建立连接时就确定下来的（顺便说一下，完全无错的信道是不可能实现的；人们使用这个术语的真正含义是指出错率很低，小到足以忽略掉）</span></div></div><div id="tvvsWtdkHZWcFQNBDJVLA2" class="wolai-block wolai-text"><div><span class="inline-wrap"><b>传输层是真正的端-端的层，</b></span><span class="inline-wrap">它自始自终将数据从源端携带到接收方。换句话说，源机器上的一个程序利用报文头和控制信息与目标机器上的一个类似程序进行会话。</span><span class="bg-blond inline-wrap"><b>在其下面的各层，每个协议涉及一台机器与它的直接邻居，而不涉及最终的源机器和目标机器，即源机器和目标机器可能被多个中间路由器隔离了。</b></span><span class="inline-wrap"><b>第 1 层到第 3 层是链式连接的，而第 4<span class="jill"></span>层到第 7 层是端-端的</b></span></div></div><div class="block-ref"><div class="decorator"></div><h4 id="45bboNHdtsSkifYuQiATKY" class="wolai-block"><span class="inline-wrap">试题<span class="jill"></span>1.25“OSI<span class="jill"></span>模型的<span class="jill"></span>1~3<span class="jill"></span>层中，源与目标端间的通信路径可能是串连而成的，而在<span class="jill"></span>4～7<span class="jill"></span>层则一定是端到端的”是否正确？</span></h4></div><div id="vPVPuo6ASzpu9fz6kmAQj5" class="wolai-block wolai-text"><div><span class="inline-wrap">正确</span></div></div><h3 id="oQsn7iw3ebZjp5bgVNCQVS" class="wolai-block"><span class="inline-wrap">应用层</span></h3><div id="j4GCwK54xNETmY52XAaREC" class="wolai-block wolai-text"><div><span class="inline-wrap">应用层（application layer）包含了用户通常需要的各种各样的协议。</span></div></div><div id="hiJBJrZjyjsSJamgAUTots" class="wolai-block wolai-text"><div><span class="inline-wrap">一个得到广泛使用的应用协议是超文本传输协议（HTTP，HyperText Transfer Protocol），它是万维网（WWW，World Wide Web）的基础。</span></div><div id="8SQuEfe9zgbAtLkEuhkMsC" class="wolai-block wolai-text"><div><span class="inline-wrap">当浏览器需要一个 Web 页面时，它通过 HTTP 将所要页面的名字发送给服务器，然后服务器将页面发回给浏览器。</span></div></div></div><div id="4RBA4xyWFSSPvyLxJ5qcbv" class="wolai-block wolai-text"><div><span class="inline-wrap">其他一些应用协议可用于文件传输、电子邮件以及网络新闻等。</span></div></div><h2 id="x9XKHNRaxynovb4uNh3AS" class="wolai-block"><span class="inline-wrap">TCP/IP<span class="jill"></span>参考模型</span></h2><blockquote id="gAQ51SMFx8mJa8c6ByBgR8" class="wolai-block"><span class="inline-wrap">现在我们从 OSI 参考模型转到另一个参考模型</span><span class="bg-blond inline-wrap"><b>，该参考模型不仅被所有广域计算机网络的鼻祖 ARPANET 所采用，</b></span><span class="inline-wrap">而且被其继任者——全球范围的 Internet 所使用。尽管后面我们还会简要地介绍 ARPANET 的历史，但是现在有必要先简短地引入 ARPANET 的一些关键要点。ARPANET 是由美国国防部（DoD，U.S. Department of Defense）资助的一个研究性网络。它通过租用的电话线，将几百所大学和政府部门的计算机设备连接起来。后来，当卫星和无线网络也要加入时，发现原来的协议在与它们互连时遇到了很大的麻烦，因而需要一种新的参考体系结构。所以，以无缝的方式将多个网络连接起来是从一开始就制定的主要设计目标之一。这个体系结构后来称为 TCP/IP 参考模型（TCP/IP Reference Model），以其中两个最主要的协议命名。该体系结构最初由（Cerf 和 Kahn，1974）描述，后来在（Leiner<span class="jill"></span>等，1989）中又被重新修订并得到 Internet 团体的标准化。TCP/IP 模型背后的设计思想在（Clark，1988）中进行了详细讨论。</span></blockquote><blockquote id="dUmCb2Rxq7TfB2Lr6eGnnx" class="wolai-block"><span class="inline-wrap">由于美国国防部担心其一些贵重的主机、路由器和互联网络的网关可能会在片刻间被来自前苏联的攻击而突然崩溃，所以，另一个主要的设计目标是</span><span class="inline-wrap"><b>即使在损失子网硬件的情况下网络还能够继续工作，原有的会话不能被打断。</b></span><span class="inline-wrap">换句话说，美国国防部希望，即使源机器和目标机器之间的一些机器或者传输线路突然不能工作，只要源机器和目标机器还在运作，那么它们之间的连接就要维持不变。此外，由于当时设想不同应用程序对网络的需求差别很大，从文件传输到实时的语音传输，所以迫切需要一种灵活的网络体系结构。</span></blockquote><div id="6RETjEGUn2MB8j4jhfRk7q" class="wolai-block wolai-text"><div><span class="inline-wrap">Internet<span class="jill"></span>网络体系结构是以</span><span class="bg-blond inline-wrap"><b>TCP/IP<span class="jill"></span>协议</b></span><span class="inline-wrap">为核心的。TCP/IP<span class="jill"></span>的核心思想是将使用不同低层协议的异构网络，在传输层和网络层建立统一的虚拟逻辑网络，以此来屏蔽、隔离所有物理网络的硬件差异，从而实现网络的互联。</span></div></div><div id="cHYTh93Nws4BCyFHcuz6DN" class="wolai-block wolai-text"><div><span class="inline-wrap">IP（Internet Protocol）协议为各种不同的通信子网或局域网提供一个统一的互连平台。</span></div></div><div id="f53EFT9X7sDva4ZAMFrf9K" class="wolai-block wolai-text"><div><span class="inline-wrap">TCP（Transmission Control Protocol）协议为应用程序提供端到端的通信和控制功能。</span></div></div><div id="kfzpyDTzaXMFXJ5ngxwTgq" class="wolai-block"><figure class="wolai-center" style="width: 100%"><img src="media/image_3.png" style="width: 659.2px"/></figure></div><h4 id="4BsABfutD9JZwLSBxuwkgb" class="wolai-block"><span class="inline-wrap">TCP/IP 体系结构</span></h4><div id="mnMgFKp5S5yiAV2ByCumst" class="wolai-block wolai-text"><div><span class="inline-wrap">TCP/IP<span class="jill"></span>不是一个简单的协议，而是一组小的专业化协议，包括<span class="jill"></span>TCP、IP、UDP、ICMP<span class="jill"></span>协议及其他一些子协议。TCP/IP<span class="jill"></span>协议簇是层次结构，共分为<span class="jill"></span>4<span class="jill"></span>层。 </span></div></div><div id="tpnjnsTLyro3X4UsS95KqD" class="wolai-block"><figure class="wolai-center" style="width: 100%"><img src="media/image_4.png" style="width: 100%"/></figure></div><h2 id="woytKWsUagLbprGE578pEP" class="wolai-block"><span class="inline-wrap">对比</span></h2><div id="5jVem4LYqFftFNoPA1Z5r3" class="wolai-block"><figure class="wolai-center" style="width: 100%"><img src="media/image_5.png" style="width: 709.6px"/></figure></div><h3 id="2oHvVSeEmnLMDZx55k6cjg" class="wolai-block"><span class="inline-wrap">相似之处：</span></h3><div id="mdkxUFPP2zQodwep3Lxo6F" class="wolai-block wolai-text"><div><span class="inline-wrap">基于独立的协议栈概念，层的功能大体相似，如在两个模型中，自底向上直至和包括传输层的若干层为希望通信的进程提供端到端的与网络无关的传输服务。</span></div></div><div id="wRVc2qPNcxEjE2XnTsgGmF" class="wolai-block wolai-text"><div><span class="inline-wrap">传输层以上的层都是面向应用的传输服务的用户。</span></div></div><h3 id="9TvABmaPkPy9CUhiFYqRYQ" class="wolai-block"><span class="inline-wrap">差别：</span></h3><div id="sWNZkFJSrur4ZE8sTZP5Qh" class="wolai-block wolai-text"><div><span class="inline-wrap">模型：OSI<span class="jill"></span>模型有服务、接口和协议<span class="jill"></span>3<span class="jill"></span>个主要概念，而<span class="jill"></span>TCP/IP<span class="jill"></span>体系结构没有明确区分服务、接口和协议，因此</span><span class="inline-wrap"><b>OSI<span class="jill"></span>模型中的协议比<span class="jill"></span>TCP/IP<span class="jill"></span>结构中的协议具有更好的隐藏性，在技术发生变化时能相对容易地进行替换。</b></span></div></div><div id="4YhSxpV3FiVW5xgtwumTNw" class="wolai-block wolai-text"><div><span class="inline-wrap">层数：OSI<span class="jill"></span>模型<span class="jill"></span>7<span class="jill"></span>层，TCP/IP<span class="jill"></span>结构<span class="jill"></span>4<span class="jill"></span>层；</span></div></div><div id="erCtsEcxX5tmTdmZmrF3rw" class="wolai-block wolai-text"><div><span class="inline-wrap">服务：OSI<span class="jill"></span>网络层支持无连接的和面向连接的通信，传输层仅有面向连接的通信，TCP/IP<span class="jill"></span>结构的网络层仅有无连接通信，传输层支持两种模式，即面向连接的服务（TCP）和面向无连接的服务（UDP）。</span></div></div><div id="9T42HE87tp9UCgrRZ3YEm9" class="wolai-block wolai-text"><div><span class="inline-wrap">IP<span class="jill"></span>它不负责保证传送可靠性，流控制，包顺序</span></div></div><h3 id="rUDobH2uUoBgyk48gAKhrr" class="wolai-block"><span class="inline-wrap">比较：</span></h3><div id="mxkDT7aVsMb7tBX9YZseeS" class="wolai-row"><div id="bF8utCgYFURJSDWGkvMhYf" class="wolai-col" style="flex-grow: 0.5"><div id="nHfVKuqWomzBPzjt7dwjLT" class="bg-blond wolai-block wolai-text"><div><span class="inline-wrap">OSI<span class="jill"></span>模型的缺陷：</span></div></div><div id="exugBT9hWmzTY3fU11fv7u" class="wolai-block wolai-text"><div><span class="inline-wrap">•</span><span class="inline-wrap">OSI<span class="jill"></span>模型和协议过于复杂，实现笨拙 效率慢</span></div></div><div id="8EDfMAFPbdWMo2zzMkhoLC" class="wolai-block wolai-text"><div><span class="inline-wrap">•Bad timing. OSI 的协议提出时，TCP/IP<span class="jill"></span>协议已经产品化</span></div></div><div id="wtiAoH2Qw8HrYFFxWxX5Qv" class="wolai-block wolai-text"><div><span class="inline-wrap">•Bad technology. 链路层过于复杂</span></div></div><div id="9eBfuQadkDtTdbZYEiad34" class="wolai-block wolai-text"><div><span class="inline-wrap">•Bad implementations.效率很慢</span></div></div><div id="dHMM6Zzbx1vJvQWmcAjXzA" class="wolai-block wolai-text"><div><span class="inline-wrap">•Bad politics.强制推行不如学术界 的广泛使用</span></div></div></div><div id="gtxKrZmcMzHcZST5FuiLMf" class="wolai-col" style="flex-grow: 0.5"><div id="v6bKAQu63jSnezp7dzqaA" class="bg-blond wolai-block wolai-text"><div><span class="inline-wrap">TCP/IP<span class="jill"></span>参考模型的缺陷：</span></div></div><div id="d5J1J8ZwAVmhkFjHvFZcKQ" class="wolai-block wolai-text"><div><span class="inline-wrap">•没有明确区分服务、接口和协议</span></div></div><div id="vKhCCBFjX1uorfkhxPCYef" class="wolai-block wolai-text"><div><span class="inline-wrap">•不通用</span></div></div><div id="a2ypBHPJWteHJsvC9ZSFxF" class="wolai-block wolai-text"><div><span class="inline-wrap">•层划分不明确，把链路层作为了一个接口</span></div></div><div id="uSk5ny9poDwxweHyrmHhgs" class="wolai-block wolai-text"><div><span class="inline-wrap">•没有物理层与数据链路层</span></div></div><div id="kHBWgotVoYnFs4ii3ySwZx" class="wolai-block wolai-text"><div><span class="inline-wrap">•协议实现中的问题（telnet<span class="jill"></span>远程登录）：明文传送</span></div></div></div></div><div id="g2qpHqHscPMMFAj8QGPk7w" class="wolai-block wolai-text"><div><span class="inline-wrap"><b>TCP/IP 胜出的原因关键是在</b></span></div></div><div id="deYCXcAMAx3VWafcTLRQk4" class="wolai-block wolai-text"><div><span class="inline-wrap">协议很好的实现，免费发布，用户中的地位根深蒂固，其他协议很难取而代之。</span></div></div><div id="pjdFHXmningQC3GtvbSjXq" class="wolai-block"><figure class="wolai-center" style="width: 100%"><img src="media/image_6.png" style="width: 531px"/></figure></div></article><footer></footer></body></html>