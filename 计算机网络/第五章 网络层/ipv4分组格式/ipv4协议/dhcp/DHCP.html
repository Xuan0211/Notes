<!DOCTYPE html>
<html lang="zh-Hans-CN"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=Edge"/><link rel="stylesheet" type="text/css" href="../../../../css/modern-norm.min.css"/><link rel="stylesheet" type="text/css" href="../../../../css/prism.min.css"/><link rel="stylesheet" type="text/css" href="../../../../css/katex.min.css"/><link rel="stylesheet" type="text/css" href="../../../../css/wolai.css"/><title>DHCP - wolai 笔记</title><link rel="shortcut icon" href="data:image/svg+xml,%3Csvg xmlns=&apos;http://www.w3.org/2000/svg&apos; viewBox=&apos;0 0 800 800&apos;%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fff;%7D%3C/style%3E%3C/defs%3E%3Cg%3E%3Cpath class=&apos;cls-1&apos; d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Z&apos;/%3E%3Cpath d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Zm4.72,88.9H185.2L172.42,89c-32.78.62-43.68,3.24-54.71,9.14a45.84,45.84,0,0,0-19.54,19.54c-6.61,12.36-9.11,24.55-9.27,67.49V614.8L89,627.58c.62,32.78,3.24,43.68,9.14,54.71a45.84,45.84,0,0,0,19.54,19.54c12.36,6.61,24.55,9.11,67.49,9.27H610.08c46.79,0,59.41-2.44,72.21-9.28a45.84,45.84,0,0,0,19.54-19.54c6.61-12.36,9.11-24.55,9.27-67.49V189.92c0-46.79-2.44-59.41-9.28-72.21a45.84,45.84,0,0,0-19.54-19.54C669.93,91.56,657.74,89.06,614.8,88.9ZM233.33,493.33A73.34,73.34,0,1,1,160,566.67,73.35,73.35,0,0,1,233.33,493.33Z&apos;/%3E%3C/g%3E%3C/svg%3E"></link></head><body><header><div class="image"></div><div class="title"><div class="banner"><div class="icon"></div></div><div data-title="DHCP " class="main-title"></div></div></header><article><aside id="kW3EiA1q61zLdzSzZfJDK4" class="green wolai-block"><div data-symbol="🌲" class="icon"></div><span class="inline-wrap">P361</span></aside><h2 id="nzkRm8SQQ5LqdzAtWx6qiB" class="wolai-block"><span class="inline-wrap">预备</span></h2><details id="5QYruLBVTXu8fPuFidWHSU" class="wolai-block"><summary><div class="marker"></div><h3><span class="inline-wrap">什么是配置</span></h3></summary><div id="3nuCFM83CJbzTJ53mdsxTj" class="wolai-block wolai-text"><div><span class="inline-wrap">在协议软件中，给协议参数赋值的动作叫做协议配置。</span></div></div><div id="fpWVvqgJegQRCwtd1xY5PC" class="wolai-block wolai-text"><div><span class="inline-wrap">一个协议软件在使用之前必须是已正确配置的。</span></div></div><div id="kEcgBKTj1qz67NqZBq3eCH" class="wolai-block wolai-text"><div><span class="inline-wrap">连接到互联网的计算机的协议软件需要配置的参数包括：</span></div><div id="93VCdkgEfMXW8gMR616n5U" class="wolai-block wolai-text"><div><span class="inline-wrap">1.IP 地址</span></div></div><div id="p4HxKmhNTLjRFMbad4ad3f" class="wolai-block wolai-text"><div><span class="inline-wrap">2.子网掩码</span></div></div><div id="hdVfviXZHMTSBg7shvm5hJ" class="wolai-block wolai-text"><div><span class="inline-wrap">3.默认路由器的<span class="jill"></span>IP<span class="jill"></span>地址</span></div></div><div id="hjD1fAHvyVhs6J4wgjKFtb" class="wolai-block wolai-text"><div><span class="inline-wrap">4.域名服务器的<span class="jill"></span>IP<span class="jill"></span>地址</span></div></div></div><div id="4XCh5EFocaUwYCjiNPrYhC" class="wolai-block wolai-text"><div><span class="inline-wrap">这些信息通常存储在一个配置文件中，计算机在引导过程中可以对这个文件进行存取。 </span></div></div></details><h2 id="2kEgfgNgD1noM96ftjCQKd" class="wolai-block"><span class="inline-wrap">简介</span></h2><div id="vQV5HyAkUmk2NTdRzZeqHp" class="wolai-block wolai-text"><div><span class="inline-wrap">互联网广泛使用的动态主机配置协议<span class="jill"></span>DHCP (DynamicHost Configuration Protocol) 提供了即插即用连网 (plug-and-playnetworking) 的机制。</span></div></div><div id="mFncSYZB6wXocWp5NiaBN3" class="wolai-block wolai-text"><div><span class="inline-wrap">这种机制允许一台计算机加入新的网络和获取<span class="jill"></span>IP<span class="jill"></span>地址，而不用手工配置。</span></div></div><div id="4EQCz4B7QVgwy6HeSJqP4b" class="wolai-block wolai-text"><div><span class="inline-wrap">DHCP<span class="jill"></span>给运行服务器软件、且位置固定的计算机指派一个永久地址，给运行客户端软件的计算机分配一个临时地址。</span></div></div><aside id="fPMcwbCgEmnDxp8NHQ7Twe" class="green wolai-block"><div data-symbol="🌲" class="icon"></div><span class="inline-wrap">DHCP<span class="jill"></span>是替代了死去的反向地址转换协议<span class="jill"></span>RARP</span><div class="block-ref"><div class="decorator"></div><div id="r1GuDUrKMU4MqXws7g7oz" class="wolai-sub-page wolai-block"><div class="page-icon"></div><a href="../arp/%E5%9B%BE%E8%A7%A3arp%E5%8D%8F%E8%AE%AE%EF%BC%88%E5%85%AD%EF%BC%89rarp%E4%B8%8Eiarp%EF%BC%9A/%E5%9B%BE%E8%A7%A3arp%E5%8D%8F%E8%AE%AE%EF%BC%88%E5%85%AD%EF%BC%89rarp%E4%B8%8Eiarp%EF%BC%9A.html"><span>图解ARP协议（六）RARP与IARP：被遗忘的兄弟协议 - 知乎</span></a></div></div></aside><div id="rMS8cqNKPs7JZwTDt5GoBz" class="wolai-sub-page wolai-block"><div class="page-icon"></div><a href="dhcp%E5%8D%8F%E8%AE%AE%E8%AF%A6%E8%A7%A3/dhcp%E5%8D%8F%E8%AE%AE%E8%AF%A6%E8%A7%A3.html"><span> DHCP协议详解</span></a></div><h2 id="fCxn1B88tgR9t9Et65XGrS" class="wolai-block"><span class="inline-wrap">工作方式</span></h2><div id="vLqfbeLkCmTSqvTyBCHvgY" class="wolai-block wolai-text"><div><span class="inline-wrap">DHCP<span class="jill"></span>使用客户-服务器方式，采用请求/应答方式工作。</span></div></div><div id="a3iuvoLn3q49PaTNpFMD6y" class="wolai-block wolai-text"><div><span class="inline-wrap"><b>DHCP<span class="jill"></span>基于<span class="jill"></span>UDP<span class="jill"></span>工作，DHCP<span class="jill"></span>服务器运行在<span class="jill"></span>67<span class="jill"></span>号端口，DHCP<span class="jill"></span>客户运行在<span class="jill"></span>68<span class="jill"></span>号端口。</b></span></div></div><div id="h9Zhz3WPaZvNGVUkoLHXRH" class="wolai-block"><figure class="wolai-center" style="width: 100%"><img src="media/image.png" style="width: 646.4px"/></figure></div><div id="pq54ahZbYtr1srttDPfim8" class="wolai-block"><figure class="wolai-center" style="width: 100%"><img src="media/image_1.png" style="width: 100%"/></figure></div><div id="36sSo35DutNJBPHcNgrryB" class="wolai-block"><figure class="wolai-center" style="width: 100%"><img src="media/image_2.png" style="width: 100%"/></figure></div><h2 id="h1z2R9MCmVSwkAAnbhTiHC" class="wolai-block"><span class="inline-wrap">DHCP 中继代理<span class="jill"></span>DHCPRelay(DHCPR)</span></h2><div id="5ERQ1xMnXvP5WYBEmZtTXM" class="wolai-block wolai-text"><div><span class="inline-wrap">并不是每个网络上都有<span class="jill"></span>DHCP<span class="jill"></span>服务器，这样会使<span class="jill"></span>DHCP<span class="jill"></span>服务器的数量太多。现在是每一个网络至少有一个<span class="jill"></span>DHCP<span class="jill"></span>中继代理，它配置了<span class="jill"></span>DHCP<span class="jill"></span>服务器的<span class="jill"></span>IP<span class="jill"></span>地址信息。</span></div></div><div id="f19m7hF6Hkw4CfR2UqRLnj" class="wolai-block wolai-text"><div><span class="inline-wrap">当 DHCP<span class="jill"></span>中继代理收到主机发送的发现报文后，就以单播方式向<span class="jill"></span>DHCP<span class="jill"></span>服务器转发此报文，并等待其回答。收到<span class="jill"></span>DHCP<span class="jill"></span>服务器回答的提供报文后，DHCP<span class="jill"></span>中继代理再将此提供报文发回给主机。</span></div></div><div id="7MyJxUtaSNoULWuuU25jfX" class="wolai-block"><figure class="wolai-center" style="width: 100%"><img src="media/image_3.png" style="width: 100%"/></figure></div><h2 id="dLCgzg66of9dz1JF1DUTvH" class="wolai-block"><span class="inline-wrap">DHCP 租用期(lease period)</span></h2><div id="dNedzbuZ88zVQo4oysLAeN" class="wolai-block wolai-text"><div><span class="inline-wrap">DHCP<span class="jill"></span>服务器分配给<span class="jill"></span>DHCP<span class="jill"></span>客户的<span class="jill"></span>IP<span class="jill"></span>地址的临时的，因此<span class="jill"></span>DHCP<span class="jill"></span>客户只能在一段有限的时间内使用这个分配到的<span class="jill"></span>IP<span class="jill"></span>地址。DHCP<span class="jill"></span>协议称这段时间为租用期。</span></div></div><div id="hXLd6VnA49oo2ZXxZxv4mJ" class="wolai-block wolai-text"><div><span class="inline-wrap">租用期的数值应由<span class="jill"></span>DHCP<span class="jill"></span>服务器自己决定。</span></div></div><div id="jAqKsm5iKaBpHgFkqhTG3a" class="wolai-block wolai-text"><div><span class="inline-wrap">DHCP<span class="jill"></span>客户也可在自己发送的报文中（例如，发现报文）提出对租用期的要求。</span></div></div></article><footer></footer></body></html>