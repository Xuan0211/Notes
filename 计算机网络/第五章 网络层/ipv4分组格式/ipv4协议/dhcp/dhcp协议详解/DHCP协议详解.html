<!DOCTYPE html>
<html lang="zh-Hans-CN"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=Edge"/><link rel="stylesheet" type="text/css" href="../../../../../css/modern-norm.min.css"/><link rel="stylesheet" type="text/css" href="../../../../../css/prism.min.css"/><link rel="stylesheet" type="text/css" href="../../../../../css/katex.min.css"/><link rel="stylesheet" type="text/css" href="../../../../../css/wolai.css"/><title>DHCP协议详解 - wolai 笔记</title><link rel="shortcut icon" href="data:image/svg+xml,%3Csvg xmlns=&apos;http://www.w3.org/2000/svg&apos; viewBox=&apos;0 0 800 800&apos;%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fff;%7D%3C/style%3E%3C/defs%3E%3Cg%3E%3Cpath class=&apos;cls-1&apos; d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Z&apos;/%3E%3Cpath d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Zm4.72,88.9H185.2L172.42,89c-32.78.62-43.68,3.24-54.71,9.14a45.84,45.84,0,0,0-19.54,19.54c-6.61,12.36-9.11,24.55-9.27,67.49V614.8L89,627.58c.62,32.78,3.24,43.68,9.14,54.71a45.84,45.84,0,0,0,19.54,19.54c12.36,6.61,24.55,9.11,67.49,9.27H610.08c46.79,0,59.41-2.44,72.21-9.28a45.84,45.84,0,0,0,19.54-19.54c6.61-12.36,9.11-24.55,9.27-67.49V189.92c0-46.79-2.44-59.41-9.28-72.21a45.84,45.84,0,0,0-19.54-19.54C669.93,91.56,657.74,89.06,614.8,88.9ZM233.33,493.33A73.34,73.34,0,1,1,160,566.67,73.35,73.35,0,0,1,233.33,493.33Z&apos;/%3E%3C/g%3E%3C/svg%3E"></link></head><body><header><div class="image"></div><div class="title"><div class="banner"><div class="icon"></div></div><div data-title=" DHCP协议详解" class="main-title"></div></div></header><article><h2 id="qtpaUdXUZ4S9sPkgPq9Jmd" class="wolai-block"><span class="inline-wrap">1.1 DHCP<span class="jill"></span>协议理解</span></h2><div id="kw861BdDKR15JqsQPbcKfc" class="wolai-block wolai-text"><div><span class="inline-wrap"><b>定义</b></span><span class="inline-wrap">：</span><span class="inline-wrap"><a href="https://so.csdn.net/so/search?q=DHCP&amp;spm=1001.2101.3001.7020"><span>DHCP</span></a></span><span class="inline-wrap">：Dynamic Host Configuration Protocol，动态主机配置协议，是一个应用在局域网中的网络协议，它使用<span class="jill"></span>UDP<span class="jill"></span>协议工作。</span></div></div><div id="w4zPAGP8c7wtvjb4mgXdUP" class="wolai-block wolai-text"><div><span class="inline-wrap"><b>理解</b></span><span class="inline-wrap">**：** DHCP<span class="jill"></span>协议就是一个基于<span class="jill"></span>UDP<span class="jill"></span>协议工作在局域网内的</span><span class="inline-wrap"><a href="https://so.csdn.net/so/search?q=%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE&amp;spm=1001.2101.3001.7020"><span>网络协议</span></a></span><span class="inline-wrap">，其最终的目的就是获取响应的<span class="jill"></span>IP<span class="jill"></span>地址，其中这过程中有多种分配方式，以及发送报文的格式要求等。</span></div></div><div id="5zBhwUYFUPt6ZwAAP2AB5u" class="wolai-block wolai-text"><div><span class="inline-wrap"><b>作用</b></span><span class="inline-wrap">**：** 动态分配<span class="jill"></span>IP<span class="jill"></span>地址，过程自动化，终端无需一一手工配置，配置信息统一管理（DNS,网关），IP<span class="jill"></span>地址有限、需要大量配置<span class="jill"></span>IP<span class="jill"></span>地址、经常移动终端。</span></div></div><div id="sW7KfiZVvmskcfd4Z4kLoh" class="wolai-block wolai-text"><div><span class="inline-wrap"><b>好处：</b></span><span class="inline-wrap"> 提高配置<span class="jill"></span>IP<span class="jill"></span>地址效率，减少配置工作量，减少<span class="jill"></span>IP<span class="jill"></span>地址冲突。</span></div></div><div id="dpq3KRGtgMKZDxJ8redNJz" class="wolai-block wolai-text"><div><span class="inline-wrap"><b>分配<span class="jill"></span>IP</b></span><span class="inline-wrap">地址方式： </span></div></div><div id="kKXq8ZyLGniCuATEpdRicj" class="wolai-block wolai-text"><div><span class="inline-wrap">（1）</span><span class="inline-wrap"><b>手工配置方式：</b></span><span class="inline-wrap"> 通过网络管理员手工配置某台客户端特定的<span class="jill"></span>IP<span class="jill"></span>地址，当客户端请求分配时，DHCP<span class="jill"></span>服务器就将手动配置的<span class="jill"></span>IP<span class="jill"></span>地址分配给客户端。。</span></div></div><div id="m43Qjya6V3B1owGU6qRNew" class="wolai-block wolai-text"><div><span class="inline-wrap">（2）</span><span class="inline-wrap"><b>自动配置方式：</b></span><span class="inline-wrap"> 当<span class="jill"></span>DHCP<span class="jill"></span>客户端第一次想服务端租用到第一个<span class="jill"></span>IP<span class="jill"></span>地址后，就将这个<span class="jill"></span>IP<span class="jill"></span>地址永久分配给客户端使用。</span></div></div><div id="9ULhJm8K8FaZ2RqQtq46iu" class="wolai-block wolai-text"><div><span class="inline-wrap">（3）</span><span class="inline-wrap"><b>动态配置方式：</b></span><span class="inline-wrap"> 服务器暂时分配一个<span class="jill"></span>IP<span class="jill"></span>地址给客户端，根据租约到期或者续约租期的方式来管理分配的<span class="jill"></span>IP<span class="jill"></span>地址。</span></div></div><h4 id="8gQFq6tjyk2x41Xj3EQUab" class="wolai-block"><span class="inline-wrap">报文格式</span></h4><div id="7fyrXAmkG4kwGnrq7mRSse" class="wolai-block wolai-simple-table"><table><thead><tr><th style="width: 100px"><span class="inline-wrap">链路层头</span></th><th style="width: 137px"><span class="inline-wrap">IP<span class="jill"></span>头<span class="jill"></span>  20bytes</span></th><th style="width: 100px"><span class="inline-wrap">UDP<span class="jill"></span>头</span></th><th style="width: 167px"><span class="inline-wrap">DHCP<span class="jill"></span>报文</span></th></tr></thead></table></div><div id="pLYtAVr4Wo4tarioNfF3na" class="wolai-block wolai-text"><div><span class="inline-wrap">图<span class="jill"></span>1 DHCP<span class="jill"></span>报文封装格式</span></div></div><div id="vu7MV5vXTFmgHuS8BzWwEL" class="wolai-block"><figure class="wolai-center" style="width: 100%"><img src="https://img-blog.csdnimg.cn/20190420130143187.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NjYW5mX2xpbnV4,size_16,color_FFFFFF,t_70" style="width: 445.6px"/></figure></div><div id="6nWfjSpFnGGmoQPcerWYs8" class="wolai-block wolai-text"><div><span class="inline-wrap">图<span class="jill"></span>2 DHCP<span class="jill"></span>报文格式</span></div></div><div id="aJzwZJpgDoQDf5m31dSpaS" class="wolai-block wolai-text"><div><span class="inline-wrap">图<span class="jill"></span>1<span class="jill"></span>是<span class="jill"></span>dhcp<span class="jill"></span>整个报文的封装格式，包括链路层头、IP<span class="jill"></span>头、UDP<span class="jill"></span>头和<span class="jill"></span>DHCP<span class="jill"></span>报文，其中<span class="jill"></span>dhcp<span class="jill"></span>主要的数据都封装在<span class="jill"></span>dhcp<span class="jill"></span>报文中。</span></div></div><div id="pqBGE1gxmrp1XT37qVdsap" class="wolai-block wolai-text"><div><span class="inline-wrap">图<span class="jill"></span>2 就是<span class="jill"></span>DHCP<span class="jill"></span>报文的格式，各字段的说明如下：</span></div></div><div id="vrkzm1AX6Ptctg1LaNzA6T" class="wolai-block wolai-text"><div><span class="inline-wrap"><b>op</b></span><span class="inline-wrap">：1byte,是报文的操作类型，分为请求报文和响应报文，1<span class="jill"></span>为请求报文；2<span class="jill"></span>为响应报文。具体的报文类型在<span class="jill"></span>option<span class="jill"></span>字段中标识。</span></div></div><div id="m86XtqeorGFoXPfH8Pkw63" class="wolai-block wolai-text"><div><span class="inline-wrap"><b>htype</b></span><span class="inline-wrap">：1byte,表示<span class="jill"></span>client<span class="jill"></span>硬件地址的类型，1<span class="jill"></span>表示以太网类型。</span></div></div><div id="4R9woBjw9jjdAsKnLHzEMN" class="wolai-block wolai-text"><div><span class="inline-wrap"><b>hlen</b></span><span class="inline-wrap">：1byte，硬件地址的长度，以太网的硬件地址长度为<span class="jill"></span>6bytes。</span></div></div><div id="k8p6znh53FxL4N7P2RgoKP" class="wolai-block wolai-text"><div><span class="inline-wrap"><b>hops</b></span><span class="inline-wrap">：1byte，表示当前<span class="jill"></span>dhcp<span class="jill"></span>报文经过的<span class="jill"></span>DHCP<span class="jill"></span>中继的数目，每经过一个<span class="jill"></span>DHCP<span class="jill"></span>中继这个字段就加<span class="jill"></span>1.</span></div></div><div id="8pP6hrjTFVUbZ6YwuX244A" class="wolai-block wolai-text"><div><span class="inline-wrap"><b>xid</b></span><span class="inline-wrap">：4bytes，由<span class="jill"></span>client<span class="jill"></span>端产生的随机数，用于匹配请求和应答报文，就是匹配应答报文是对哪个请求报文做出应答。</span></div></div><div id="oeeiTiGkfXW6TxYDyH7cRU" class="wolai-block wolai-text"><div><span class="inline-wrap"><b>secs</b></span><span class="inline-wrap">：2bytes，客户端进入<span class="jill"></span>IP<span class="jill"></span>地址申请进程的时间或者更新<span class="jill"></span>IP<span class="jill"></span>地址进程的时间；由客户端软件根据情况设定。目前没有使用，固定为<span class="jill"></span>0。</span></div></div><div id="5S68MhYecNzAajsr12tL5P" class="wolai-block wolai-text"><div><span class="inline-wrap"><b>flags</b></span><span class="inline-wrap">：2bytes，是标志字段，16<span class="jill"></span>比特中只使用了最高位比特（即最左边的比特），这个个比特是广播响应标识位，用来标识<span class="jill"></span>DHCP<span class="jill"></span>服务器发出的响应报文是广播还是单播，0<span class="jill"></span>是单播，1<span class="jill"></span>是广播。其余的比特位保留不用，都为<span class="jill"></span>0.</span></div></div><div id="wgUvmgzWnyGXhZZVk6pSwW" class="wolai-block wolai-text"><div><span class="inline-wrap"><b>ciaddr</b></span><span class="inline-wrap">：4bytes，是客户端的<span class="jill"></span>IP<span class="jill"></span>地址，可以是<span class="jill"></span>client<span class="jill"></span>自己的<span class="jill"></span>IP<span class="jill"></span>地址，也可以是<span class="jill"></span>server<span class="jill"></span>分配给<span class="jill"></span>client<span class="jill"></span>的<span class="jill"></span>IP<span class="jill"></span>地址。</span></div></div><div id="9crg3tcciyetMvgMqCKy4t" class="wolai-block wolai-text"><div><span class="inline-wrap"><b>yiaddr</b></span><span class="inline-wrap">(Your IP Address)：4bytes，是<span class="jill"></span>server<span class="jill"></span>分配给<span class="jill"></span>client<span class="jill"></span>的<span class="jill"></span>IP<span class="jill"></span>地址。</span></div></div><div id="oGTY5fArmNNZKazj4bkdz3" class="wolai-block wolai-text"><div><span class="inline-wrap"><b>siaddr</b></span><span class="inline-wrap">：4bytes，是<span class="jill"></span>client<span class="jill"></span>端获取<span class="jill"></span>IP<span class="jill"></span>地址等信息的<span class="jill"></span>server<span class="jill"></span>端的地址。</span></div></div><div id="jx2EaG6ZoZa42xeEsZ3qoH" class="wolai-block wolai-text"><div><span class="inline-wrap"><b>giaddr</b></span><span class="inline-wrap">：4bytes，是<span class="jill"></span>client<span class="jill"></span>发出请求报文后经过的第一个中继的<span class="jill"></span>IP<span class="jill"></span>地址。</span></div></div><div id="f8xDPg1k3jDCm5Sk7UTpnf" class="wolai-block wolai-text"><div><span class="inline-wrap"><b>chaddr</b></span><span class="inline-wrap">：16bytes，是<span class="jill"></span>client<span class="jill"></span>端的硬件地址，在<span class="jill"></span>client<span class="jill"></span>发出报文时会把自己网卡的硬件地址写进这个字段。</span></div></div><div id="8Uo7tFE5Dru6L9shX8Fcyr" class="wolai-block wolai-text"><div><span class="inline-wrap"><b>sname</b></span><span class="inline-wrap">：64bytes，服务器主机名，是<span class="jill"></span>client<span class="jill"></span>端获取<span class="jill"></span>IP<span class="jill"></span>地址等信息的服务器名称。</span></div></div><div id="fFrYksr3NkCKC2V1ju1goJ" class="wolai-block wolai-text"><div><span class="inline-wrap"><b>file</b></span><span class="inline-wrap">：128bytes，是<span class="jill"></span>client<span class="jill"></span>的启动配置文件名，是服务器为<span class="jill"></span>client<span class="jill"></span>指定的启动配置文件名及路径信息，由服务器填写。</span></div></div><div id="kuE6SaSseCFaEx1uDGcb5d" class="wolai-block wolai-text"><div><span class="inline-wrap"><b>options</b></span><span class="inline-wrap">：是可选变长的选项字段，这个字段包含了终端的初始配置信息和网络配置信息，包括报文类型，有效租期，DNS<span class="jill"></span>服务器的<span class="jill"></span>IP<span class="jill"></span>地址等配置信息。</span></div></div><div id="uZNb9oo9TXHvPcFE8MCdb4" class="wolai-block wolai-text"><div><span class="inline-wrap">这个字段的结构采用“CLV”结构，如图<span class="jill"></span>4：</span></div></div><div id="4iJ4udDrs4yFynMnHKwYyd" class="wolai-block"><figure class="wolai-center" style="width: 100%"><img src="https://img-blog.csdnimg.cn/20190420130236205.png" style="width: 530.4px"/></figure></div><div id="uTd78vSwGDHZ384ysBT7Yb" class="wolai-block wolai-text"><div><span class="inline-wrap">图<span class="jill"></span>4 option<span class="jill"></span>字段编码方式</span></div></div><div id="c8ockuj1DC8puQoCPEe413" class="wolai-block wolai-text"><div><span class="inline-wrap">其中”code”是标识号，唯一标识后面的信息内容(vlaue),1bytes；</span></div></div><div id="4595eUm3E63Q6hTsPhUoZB" class="wolai-block wolai-text"><div><span class="inline-wrap">“length”表示后面的<span class="jill"></span>value<span class="jill"></span>值的长度，1bytes</span></div></div><div id="fMzTAHBibmCTh4WWMDqXW3" class="wolai-block wolai-text"><div><span class="inline-wrap">“vlaue”是信息内容</span></div></div><div id="cxEf2pr4bonX5aPsxc54oY" class="wolai-block wolai-text"><div><span class="inline-wrap">Options<span class="jill"></span>字段有很多项，是可选的，不同的报文<span class="jill"></span>option<span class="jill"></span>项可能不同，图<span class="jill"></span>5<span class="jill"></span>是一个<span class="jill"></span>DHCP request<span class="jill"></span>报文的<span class="jill"></span>option<span class="jill"></span>项：</span></div></div><div id="qeDdKrH4Zi8HcofmcFYSxU" class="wolai-block"><figure class="wolai-center" style="width: 100%"><img src="https://img-blog.csdnimg.cn/20190420130252714.png" style="width: 356.8px"/></figure></div><div id="eTihKk9vNFRetEYRgNiQa" class="wolai-block wolai-text"><div><span class="inline-wrap">图<span class="jill"></span>5 option<span class="jill"></span>项</span></div></div><div id="jVi6XZo2NWodwyEisdyVaM" class="wolai-block wolai-text"><div><span class="inline-wrap">不同的<span class="jill"></span>option<span class="jill"></span>项有不同的含义，下面是一些常见的<span class="jill"></span>option<span class="jill"></span>项：</span></div></div><div id="7RYANSPW3negFn9kvCqDBM" class="wolai-block wolai-text"><div><span class="inline-wrap">（1）DHCP Message Type： code=53  length=1 表示<span class="jill"></span>DHCP<span class="jill"></span>的报文类型。</span></div></div><div id="o8GBYR4xkh4zoi2B8D9ZWm" class="wolai-block wolai-text"><div><span class="inline-wrap">（2）Client identifier:      code=61   client<span class="jill"></span>端的硬件地址</span></div></div><div id="kRgVxgK4QChB3rJfEfhExj" class="wolai-block wolai-text"><div><span class="inline-wrap">（3）Server identifier:     code=54   服务器的<span class="jill"></span>IP<span class="jill"></span>地址</span></div></div><div id="dNW7di6JCYkMagESE3RuXw" class="wolai-block wolai-text"><div><span class="inline-wrap">（4）Subnet Mask:     code=1      子网掩码</span></div></div><div id="rtBdTzbbwobrZ8GoegjHxx" class="wolai-block wolai-text"><div><span class="inline-wrap">（5）route:           code=3      网关<span class="jill"></span>IP<span class="jill"></span>地址</span></div></div><div id="4fwXHSD5H5JuRVpEG1dUeU" class="wolai-block wolai-text"><div><span class="inline-wrap">（6）Domain Name Server: code=6    DNS<span class="jill"></span>服务器的<span class="jill"></span>IP<span class="jill"></span>地址</span></div></div><div id="qyyTPmvLd8eNjtbGktrj4Y" class="wolai-block wolai-text"><div><span class="inline-wrap">（7）IP Address Lease Time: code=51  租约时间</span></div></div><div id="6pPxA1fArCZy5354r7FHyM" class="wolai-block wolai-text"><div><span class="inline-wrap">Dhcp<span class="jill"></span>协议一共有<span class="jill"></span>8<span class="jill"></span>中报文，包括：DHCPDISCOVERY，DHCPOFFER，DHCPREQUEST，DHCPACK，DHCPNAK，DHCPRELEASE，DHCPDECLINE，DHCPINFORM。</span></div></div><div id="iGULfT5z4QepUaWxGJwBHK" class="wolai-block wolai-text"><div><span class="inline-wrap">报文类型由<span class="jill"></span>options<span class="jill"></span>字段中的<span class="jill"></span>option53“DHCP Message Type”选项来确定。各报文的具体含义如下：</span></div></div><div id="n76eV2zPKqrL1HFdk4r4Yi" class="wolai-block wolai-text"><div><span class="inline-wrap">（1），</span><span class="inline-wrap"><b>DHCP-DISCOVER****报文</b></span><span class="inline-wrap">：0x01  </span><span class="inline-wrap"><b>客户端请求包</b></span></div></div><div id="KTrCq5SfCJCYRfwY5aEoj" class="wolai-block wolai-text"><div><span class="inline-wrap">这个报文是<span class="jill"></span>client<span class="jill"></span>端开始<span class="jill"></span>dhcp<span class="jill"></span>过程的第一个请求报文，client<span class="jill"></span>在请求地址时，并不知道<span class="jill"></span>server<span class="jill"></span>端的位置，所以<span class="jill"></span>client<span class="jill"></span>会以广播的方式发送请求报文，它的目的是发现网络中的服务器。</span></div></div><div id="3ifdCknaoEDTSnQL4CSeh1" class="wolai-block wolai-text"><div><span class="inline-wrap">（2），</span><span class="inline-wrap"><b>DHCP-OFFER****报文</b></span><span class="inline-wrap">： 0x02  </span><span class="inline-wrap"><b>服务器响应包</b></span></div></div><div id="8gN2mSHx2riNtdTLHNH1MB" class="wolai-block wolai-text"><div><span class="inline-wrap">这个报文<span class="jill"></span>server<span class="jill"></span>端对<span class="jill"></span>DISCOVERY<span class="jill"></span>报文的响应报文。会在所配置的地址池中查找一个合适的<span class="jill"></span>IP<span class="jill"></span>地址，加上相应的租约期限和其他配置信息（如<span class="jill"></span>GATEWAY，DNS SERVER<span class="jill"></span>等），构造一个<span class="jill"></span>OFFER<span class="jill"></span>报文，发送给用户，告知用户本<span class="jill"></span>SERVER<span class="jill"></span>可以为其提供<span class="jill"></span>IP<span class="jill"></span>地址的分配，并且。发<span class="jill"></span>OFFER<span class="jill"></span>报文一般是单播的方式发送。</span></div></div><div id="eT7H83x5wWPS5ASAMyzskG" class="wolai-block wolai-text"><div><span class="inline-wrap">（3），</span><span class="inline-wrap"><b>DHCP-REQUEST****报文</b></span><span class="inline-wrap">：0x03 </span><span class="inline-wrap"><b>客户端选择包</b></span></div></div><div id="ejB1KvrFQabCBVWVXdtnNb" class="wolai-block wolai-text"><div><span class="inline-wrap">在一个子网中可能有多台服务器，所有收到<span class="jill"></span>DISCOVER<span class="jill"></span>报文的服务器都会回应<span class="jill"></span>OFFER<span class="jill"></span>报文，所以<span class="jill"></span>client<span class="jill"></span>端可能收到多个<span class="jill"></span>OFFER<span class="jill"></span>报文，通常会选择第一个<span class="jill"></span>OFFER<span class="jill"></span>报文的服务器作为自己的目标服务器，并回应一个<span class="jill"></span>REQUEST<span class="jill"></span>请求报文。在续租约的时候<span class="jill"></span>client<span class="jill"></span>端也会发送<span class="jill"></span>REQUEST<span class="jill"></span>报文<span class="jill"></span>  请求续租期。</span></div></div><div id="5qdTdpR8MgKyz16EpHxqtd" class="wolai-block wolai-text"><div><span class="inline-wrap">（4），</span><span class="inline-wrap"><b>DHCP-ACK****报文</b></span><span class="inline-wrap">：0x05  </span><span class="inline-wrap"><b>服务器确认包</b></span></div></div><div id="nW6TbvQsRzuEWo5o7LQrTR" class="wolai-block wolai-text"><div><span class="inline-wrap">是<span class="jill"></span>server<span class="jill"></span>对<span class="jill"></span>client<span class="jill"></span>端的<span class="jill"></span>REQUEST<span class="jill"></span>报文的确认响应报文，server<span class="jill"></span>在收到<span class="jill"></span>REQUEST<span class="jill"></span>报文后，根据<span class="jill"></span>REQUEST<span class="jill"></span>报文中携带的<span class="jill"></span>client MAC<span class="jill"></span>来查找有没有相应的租约记录，如果有则发送<span class="jill"></span>ACK<span class="jill"></span>报文作为回应，通知<span class="jill"></span>client<span class="jill"></span>可以使用分配的<span class="jill"></span>IP<span class="jill"></span>地址。</span></div></div><div id="jHkj3WGg1zSHukCLGENwSG" class="wolai-block wolai-text"><div><span class="inline-wrap">（5），</span><span class="inline-wrap"><b>DHCP-NAK****报文</b></span><span class="inline-wrap">：0x06  </span><span class="inline-wrap"><b>服务器拒绝包</b></span></div></div><div id="dZ1aCyDEZUZwhuLzMvajK4" class="wolai-block wolai-text"><div><span class="inline-wrap">Server<span class="jill"></span>端对<span class="jill"></span>client<span class="jill"></span>端的<span class="jill"></span>REQUEST<span class="jill"></span>报文的拒绝响应报文，如果服务器没有相应的租约记录，就会发送<span class="jill"></span>NAK<span class="jill"></span>报文给<span class="jill"></span>client<span class="jill"></span>端。</span></div></div><div id="tDLLz3qhpkFxs7zFuB4rK4" class="wolai-block wolai-text"><div><span class="inline-wrap">（6），</span><span class="inline-wrap"><b>DHCP-RELEASE****报文</b></span><span class="inline-wrap">：0x07 </span><span class="inline-wrap"><b>客户端释放包</b></span></div></div><div id="Agad1FjT4ERkoBcyL8iGv" class="wolai-block wolai-text"><div><span class="inline-wrap">Client<span class="jill"></span>端主动释放<span class="jill"></span>server<span class="jill"></span>端分配给它的<span class="jill"></span>IP<span class="jill"></span>是，就会发送<span class="jill"></span>DHCP-RELEASE<span class="jill"></span>报文给<span class="jill"></span>server，server<span class="jill"></span>收到这个报文后，就会回收这个<span class="jill"></span>IP<span class="jill"></span>地址。</span></div></div><div id="7XQKXAvowGdABe7QUhRjP7" class="wolai-block wolai-text"><div><span class="inline-wrap">（7），</span><span class="inline-wrap"><b>DHCP-DECLINE****报文</b></span><span class="inline-wrap">：0x04</span></div></div><div id="sJyC87QZEp3FXPRLKDuPVR" class="wolai-block wolai-text"><div><span class="inline-wrap">client<span class="jill"></span>收到<span class="jill"></span>server<span class="jill"></span>回应的<span class="jill"></span>ACK<span class="jill"></span>报文后，通过地址冲突检测发现 SERVER<span class="jill"></span>分配的地址冲突或由于其它原因导致不能使用，则发送<span class="jill"></span>DHCP-DECLINE<span class="jill"></span>报文，通知<span class="jill"></span>server<span class="jill"></span>所分配的<span class="jill"></span>IP<span class="jill"></span>地址不可用。</span></div></div><div id="hVXXuBXK7D7xyJRj7B8UNx" class="wolai-block wolai-text"><div><span class="inline-wrap">（8），</span><span class="inline-wrap"><b>DHCP-INFORM****报文</b></span><span class="inline-wrap">：0x08</span></div></div><div id="wWhNE15WG1wNBhc7zux8MX" class="wolai-block wolai-text"><div><span class="inline-wrap">在<span class="jill"></span>client<span class="jill"></span>已经获得了<span class="jill"></span>IP<span class="jill"></span>地址，需要从<span class="jill"></span>server<span class="jill"></span>端获得更详细的配置信息时，就会发送<span class="jill"></span>DHCP-INFORM<span class="jill"></span>报文向<span class="jill"></span>server<span class="jill"></span>请求，server<span class="jill"></span>在收到这个报文后，会根据租约查找，找到相应的配置信息后，就会回应<span class="jill"></span>DHCP-ACK<span class="jill"></span>报文给<span class="jill"></span>client。</span></div></div><h2 id="9nZ7uJynmSjWa45PQ1yNxi" class="wolai-block"><span class="inline-wrap">1.4 DHCP<span class="jill"></span>协议工作过程</span></h2><h3 id="wPBzK1VadHEgc5yHAtn6m2" class="wolai-block"><span class="inline-wrap">1.4.1 动态获取<span class="jill"></span>IP<span class="jill"></span>过程</span></h3><div id="mWgRg48WzPQtQTWVBaoRtW" class="wolai-block"><figure class="wolai-center" style="width: 100%"><img src="https://img-blog.csdnimg.cn/20190420125726564.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NjYW5mX2xpbnV4,size_16,color_FFFFFF,t_70" style="width: 446.4px"/></figure></div><div id="3tRJz12bbse9kvPsb2HRZE" class="wolai-block wolai-text"><div><span class="inline-wrap">图<span class="jill"></span>5 DHCP<span class="jill"></span>工作流程</span></div></div><div id="fAFNXkHm3YyNvH1ByFTHWu" class="wolai-block wolai-text"><div><span class="inline-wrap">1.2.1.1 抓包过程</span></div></div><div id="wsWsXiv97c9FsQvhxHaUKD" class="wolai-block wolai-text"><div><span class="inline-wrap">(1)在<span class="jill"></span>Wireshark<span class="jill"></span>中点击<span class="jill"></span>start<span class="jill"></span>开始抓包，在过滤栏输入<span class="jill"></span>bootp，使其只显示<span class="jill"></span>DHCP<span class="jill"></span>数据包</span></div></div><div id="o3gqQcXUFVC1MxB8DmixgM" class="wolai-block wolai-text"><div><span class="inline-wrap">（2）在<span class="jill"></span>win10 中的<span class="jill"></span>cmd<span class="jill"></span>输入<span class="jill"></span>ipconfig /release <span class="jill"></span>先断开当前的网络连接，主机号变为<span class="jill"></span>0.0.0.0，主机与网络断开，不能访问网络。</span></div></div><div id="d4dJwCQvztgNjBsx9Ma71Z" class="wolai-block"><figure class="wolai-center" style="width: 100%"><img src="https://img-blog.csdnimg.cn/2019042012582478.png" style="width: 249.6px"/></figure></div><div id="uZvBA1KfVfURv4Tjmkkc32" class="wolai-block"><figure class="wolai-center" style="width: 100%"><img src="https://img-blog.csdnimg.cn/20190420125835106.png" style="width: 446.4px"/></figure></div><div id="iyrtHsNAfmsC5ZL3TW9793" class="wolai-block wolai-text"><div><span class="inline-wrap">图<span class="jill"></span>6 断开网络配置图</span></div></div><div id="iJBvbFjH3xsUkvZ4Vw27nE" class="wolai-block"><figure class="wolai-center" style="width: 100%"><img src="https://img-blog.csdnimg.cn/20190420125841219.png" style="width: 441.6px"/></figure></div><div id="o6YxZRrRRLUREydxV26CSS" class="wolai-block wolai-text"><div><span class="inline-wrap">图<span class="jill"></span>7 释放包</span></div></div><div id="f6SNKKCF5P1zAXQrQ8LmZw" class="wolai-block wolai-text"><div><span class="inline-wrap">（3）在<span class="jill"></span>cmd<span class="jill"></span>中输入<span class="jill"></span>ipconfig /renew 请求网络连接，也为客户端分配了<span class="jill"></span>IP<span class="jill"></span>地址。</span></div></div><div id="7SwHbh8nqTefRDbUsdi3Vg" class="wolai-block"><figure class="wolai-center" style="width: 100%"><img src="https://img-blog.csdnimg.cn/20190420125847263.png" style="width: 291.2724px"/></figure></div><div id="juAbwaHLoV1QUvcPP9pNke" class="wolai-block"><figure class="wolai-center" style="width: 100%"><img src="https://img-blog.csdnimg.cn/20190420125858502.png" style="width: 446.4px"/></figure></div><div id="7r3nq6KTowFCD9QkHyycj4" class="wolai-block wolai-text"><div><span class="inline-wrap">图<span class="jill"></span>8 再次请求网络配置图</span></div></div><div id="9Vf8UwoyVMNC6A4kAtdrBG" class="wolai-block"><figure class="wolai-center" style="width: 100%"><img src="https://img-blog.csdnimg.cn/20190420125903916.png" style="width: 446.4px"/></figure></div><div id="qbcjDk144JupRae23LbggJ" class="wolai-block wolai-text"><div><span class="inline-wrap">图<span class="jill"></span>9 新增数据包</span></div></div><div id="9YEEHb4V7bY37vMYLrS1qC" class="wolai-block wolai-text"><div><span class="inline-wrap">此时，可以看到在<span class="jill"></span>Wireshark<span class="jill"></span>中新增了<span class="jill"></span>4<span class="jill"></span>个<span class="jill"></span>DHCP<span class="jill"></span>数据包：   
数据包<span class="jill"></span>1：DHCP Discover   
数据包<span class="jill"></span>2：DHCP Offer   
数据包<span class="jill"></span>3：DHCP Request   
数据包<span class="jill"></span>4：DHCP ACK</span></div></div><div id="kvLaDAjVGARUmoZAEwZM3o" class="wolai-block wolai-text"><div><span class="inline-wrap">1.4.1.2 DHCP<span class="jill"></span>四个阶段</span></div></div><div id="4W3hVhmQyDvm7XkVGbobU4" class="wolai-block wolai-text"><div><span class="inline-wrap">DHCP<span class="jill"></span>动态获取<span class="jill"></span>IP<span class="jill"></span>地址的过程主要分为发现阶段、提供阶段、选择阶段、确认阶段四个阶段。</span></div></div><div id="amF54WfP97E4xrzdew2AXZ" class="wolai-block wolai-text"><div><span class="inline-wrap">(1)</span><span class="inline-wrap"><b>发现阶段：</b></span><span class="inline-wrap"> client<span class="jill"></span>端在局域网内以广播的方式发起一个<span class="jill"></span>DHCP Discover<span class="jill"></span>包，目的是在子网络中发现能够给<span class="jill"></span>client<span class="jill"></span>端提供<span class="jill"></span>IP<span class="jill"></span>地址的<span class="jill"></span>server<span class="jill"></span>端。</span></div></div><div id="onTVZXmgnF1ioqvgqnnabf" class="wolai-block wolai-text"><div><span class="inline-wrap">UDP 目标端口号为<span class="jill"></span>67 源<span class="jill"></span>IP 地址<span class="jill"></span>0.0.0.0    <span class="jill"></span>目的<span class="jill"></span>IP:255.255.255.255</span></div></div><div id="prTMsJ5kYYs1t8Ma9XWou2" class="wolai-block"><figure class="wolai-center" style="width: 100%"><img src="https://img-blog.csdnimg.cn/20190420131641284.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NjYW5mX2xpbnV4,size_16,color_FFFFFF,t_70" style="width: 445.6px"/></figure></div><div id="bAm6H24GS3Fp1ACFFujnhD" class="wolai-block wolai-text"><div><span class="inline-wrap">图<span class="jill"></span>10  DHCP discover<span class="jill"></span>包</span></div></div><div id="4B1FYhHJb6p1Zq2LoqMT7d" class="wolai-block wolai-text"><div><span class="inline-wrap">(2)</span><span class="inline-wrap"><b>提供阶段：</b></span><span class="inline-wrap"> 局域网中<span class="jill"></span>DHCP server<span class="jill"></span>接受到<span class="jill"></span>Discover<span class="jill"></span>包之后，通过发送<span class="jill"></span>DHCP offer<span class="jill"></span>包给<span class="jill"></span>client<span class="jill"></span>端应答，主要是告知<span class="jill"></span>client<span class="jill"></span>端可以提供<span class="jill"></span>IP<span class="jill"></span>地址，以及相应的<span class="jill"></span>IP<span class="jill"></span>地址租约信息和其他配置信息也会在其中。</span></div></div><div id="vVsEERjoAbaqKAEHAvoMAs" class="wolai-block wolai-text"><div><span class="inline-wrap">UDP 目标<span class="jill"></span>68    源<span class="jill"></span>IP<span class="jill"></span>为<span class="jill"></span>DHCP<span class="jill"></span>服务器的<span class="jill"></span>IP   目的<span class="jill"></span>IP:255.255.255.255</span></div></div><div id="oasffxHqna561sg6ATxkKU" class="wolai-block"><figure class="wolai-center" style="width: 100%"><img src="https://img-blog.csdnimg.cn/20190420131657476.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NjYW5mX2xpbnV4,size_16,color_FFFFFF,t_70" style="width: 445.6px"/></figure></div><div id="vfqUqPoSBLSSQeF8uHR35x" class="wolai-block wolai-text"><div><span class="inline-wrap"></span><br/></div></div><div id="h7hVEBV8FJaXCzuvnhga3" class="wolai-block"><figure class="wolai-center" style="width: 100%"><img src="https://img-blog.csdnimg.cn/2019042013194075.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NjYW5mX2xpbnV4,size_16,color_FFFFFF,t_70" style="width: 319.2px"/></figure></div><div id="iQbk9AWt2rWy926xAo2SYe" class="wolai-block wolai-text"><div><span class="inline-wrap">图<span class="jill"></span>11 DHCP offer<span class="jill"></span>包</span></div></div><div id="ibZPXiWHBf6txJF2vgTt2U" class="wolai-block wolai-text"><div><span class="inline-wrap">(3)</span><span class="inline-wrap"><b>选择阶段：</b></span><span class="inline-wrap"> 在<span class="jill"></span>client<span class="jill"></span>端可能会接受到多个<span class="jill"></span>offer<span class="jill"></span>包，通常<span class="jill"></span>clientdaunt<span class="jill"></span>只会接受收到的第一个<span class="jill"></span>DHCP offer<span class="jill"></span>报文，然后<span class="jill"></span>client<span class="jill"></span>端就会以广播的方式发送一个<span class="jill"></span>DHCP request<span class="jill"></span>报文请求分配<span class="jill"></span>IP<span class="jill"></span>地址。</span></div></div><div id="29fuz5p2qS2TEyUCcXXiLw" class="wolai-block wolai-text"><div><span class="inline-wrap">UDP 目标<span class="jill"></span>67    源<span class="jill"></span>IP<span class="jill"></span>为<span class="jill"></span>0.0.0.0   目的<span class="jill"></span>IP:255.255.255.255</span></div></div><div id="f9nGGKqjXyuWLk6NhMFirT" class="wolai-block"><figure class="wolai-center" style="width: 100%"><img src="https://img-blog.csdnimg.cn/20190420132015698.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NjYW5mX2xpbnV4,size_16,color_FFFFFF,t_70" style="width: 445.6px"/></figure></div><div id="uvLTHwHLekxAjrTCEdgGM" class="wolai-block wolai-text"><div><span class="inline-wrap"></span><br/></div></div><div id="pZqeuPvyvm8keH9MmxqGdA" class="wolai-block"><figure class="wolai-center" style="width: 100%"><img src="https://img-blog.csdnimg.cn/20190420132024830.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NjYW5mX2xpbnV4,size_16,color_FFFFFF,t_70" style="width: 374.4px"/></figure></div><div id="bnTRrT1TihrCFyEAGJHWmh" class="wolai-block wolai-text"><div><span class="inline-wrap">图<span class="jill"></span>12 DHCP REQUEST<span class="jill"></span>包</span></div></div><div id="ebAXVLnwgoJQjcyngTmcuk" class="wolai-block wolai-text"><div><span class="inline-wrap">(4)确认阶段：server<span class="jill"></span>端在收到<span class="jill"></span>DHCP request<span class="jill"></span>报文之后，会判断”option”字段的<span class="jill"></span>serverIP<span class="jill"></span>地址是否是自己的<span class="jill"></span>IP<span class="jill"></span>地址，如果符合分配<span class="jill"></span>IP<span class="jill"></span>地址的条件，就会给<span class="jill"></span>client<span class="jill"></span>发送一个<span class="jill"></span>DHCP ACK<span class="jill"></span>包，如果不满足就发挥发送一个<span class="jill"></span>DHCP NAK 包。</span></div></div><div id="pPMcUErEnX2VnY4aer5FnP" class="wolai-block wolai-text"><div><span class="inline-wrap">UDP 目标<span class="jill"></span>68 源<span class="jill"></span>IP<span class="jill"></span>为<span class="jill"></span>DHCP<span class="jill"></span>服务器的<span class="jill"></span>IP 目的<span class="jill"></span>IP:255.255.255.255</span></div></div><div id="jvUGhoX2VWuLL2EY4utM5b" class="wolai-block"><figure class="wolai-center" style="width: 100%"><img src="https://img-blog.csdnimg.cn/20190420132032688.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NjYW5mX2xpbnV4,size_16,color_FFFFFF,t_70" style="width: 446.4px"/></figure></div><div id="wqhbqyjT5sSvjVfbypJxAK" class="wolai-block wolai-text"><div><span class="inline-wrap"></span><br/></div></div><div id="fJ5KQw3FZVCAmJf6GoH3AC" class="wolai-block"><figure class="wolai-center" style="width: 100%"><img src="https://img-blog.csdnimg.cn/20190420132037540.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NjYW5mX2xpbnV4,size_16,color_FFFFFF,t_70" style="width: 445.6px"/></figure></div><div id="qyFNZ5Bc8sgDNCwZx8L8b3" class="wolai-block wolai-text"><div><span class="inline-wrap">图<span class="jill"></span>13 DHCP ACK 包</span></div></div><div id="3DrHJ5moktdqGs6Fef4TaD" class="wolai-block wolai-text"><div><span class="inline-wrap"><b>注意：客户端执行<span class="jill"></span>DHCP-DISCOVER</b></span><span class="inline-wrap">后，如果没有</span><span class="inline-wrap"><b>DHCP</b></span><span class="inline-wrap">服务器响应客户端的请求，客户端会随机使用</span><span class="inline-wrap"><b>169.254.0.0/16</b></span><span class="inline-wrap">网段中的一个</span><span class="inline-wrap"><b>IP</b></span><span class="inline-wrap">地址配置到本机地址。 </span></div></div><div id="e4HGADAEgRDAF5cKHLcdJk" class="wolai-block wolai-text"><div><span class="inline-wrap"><b>169.254.0.0/16<span class="jill"></span>是</b></span><span class="inline-wrap">Windows</span><span class="inline-wrap"><b>的自动专有</b></span><span class="inline-wrap">IP</span><span class="inline-wrap"><b>寻址范围，也就是在无法通过</b></span><span class="inline-wrap">DHCP</span><span class="inline-wrap"><b>获取</b></span><span class="inline-wrap">IP</span><span class="inline-wrap"><b>地址时，由系统自动分配的</b></span><span class="inline-wrap">IP****地址段。 </span></div></div><h3 id="rSf3Zur7EiHU9pQJGaKsKF" class="wolai-block"><span class="inline-wrap">1.4.2 续约租期</span></h3><div id="8wppB4cvURjekKRCVUXj6V" class="wolai-block"><figure class="wolai-center" style="width: 100%"><img src="https://img-blog.csdnimg.cn/20190420125944958.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NjYW5mX2xpbnV4,size_16,color_FFFFFF,t_70" style="width: 446.4px"/></figure></div><div id="dB54EWRzM5HTAxvnLXSR4B" class="wolai-block wolai-text"><div><span class="inline-wrap">图<span class="jill"></span>14 续约租期过程</span></div></div><div id="irYCwiE6f9JrLiwDtMjGvK" class="wolai-block wolai-text"><div><span class="inline-wrap">（1）当<span class="jill"></span>clientIP<span class="jill"></span>地址已经用到<span class="jill"></span>50%<span class="jill"></span>的时间，续租一下，client<span class="jill"></span>端就会以单播形式向服务端发送一个<span class="jill"></span>DHCP Request<span class="jill"></span>包，当<span class="jill"></span>server<span class="jill"></span>响应时就会回应一个<span class="jill"></span>ACK<span class="jill"></span>包，会重新约定一个时间。</span></div></div><div id="vCrx6ZoxgPJBaUDEVXGpJN" class="wolai-block wolai-text"><div><span class="inline-wrap">（2）当<span class="jill"></span>clientIP<span class="jill"></span>地址已经用到<span class="jill"></span>50%<span class="jill"></span>的时间，续租一下，client<span class="jill"></span>端就会以单播形式向服务端发送一个<span class="jill"></span>DHCP Request<span class="jill"></span>包，server<span class="jill"></span>没有响应，client<span class="jill"></span>会继续使用，当使用到<span class="jill"></span>87.5%<span class="jill"></span>时，会在续租一次，同时就以广播的方式是发送一个<span class="jill"></span>request<span class="jill"></span>包，server<span class="jill"></span>这时收到响应以后，就会回应一个<span class="jill"></span>ACK<span class="jill"></span>包，重新约定一个时间。</span></div></div><div id="6uyZrMPa5KbmJVqCTRy89V" class="wolai-block wolai-text"><div><span class="inline-wrap">（3）当<span class="jill"></span>clientIP<span class="jill"></span>地址已经用到<span class="jill"></span>50%<span class="jill"></span>的时间，续租一下，client<span class="jill"></span>端就会以单播形式向服务端发送一个<span class="jill"></span>DHCP Request<span class="jill"></span>包，server<span class="jill"></span>没有响应，client<span class="jill"></span>会继续使用，当使用到<span class="jill"></span>87.5%<span class="jill"></span>时，会在续租一次，同时就以广播的方式是发送一个<span class="jill"></span>request<span class="jill"></span>包，如果<span class="jill"></span>server<span class="jill"></span>还是没有响应，client<span class="jill"></span>那就直接使用到过期。      </span></div></div><h3 id="ctd1aeyjjgxQzErAh9PyyP" class="wolai-block"><span class="inline-wrap">1.4.3 重新连接使用<span class="jill"></span>IP<span class="jill"></span>地址</span></h3><div id="4T5oo1gsJDy3abeG6qrrEk" class="wolai-block wolai-text"><div><span class="inline-wrap">Client<span class="jill"></span>端在重新登录网络的时候，可以不需要从初始阶段发送<span class="jill"></span>DHCP DISCOVER<span class="jill"></span>报文开始，可以直接广播发送<span class="jill"></span>DHCP REQUEST<span class="jill"></span>报文给服务器。</span></div></div><div id="sLVvLTzdPfjvJGM1KgkHVa" class="wolai-block"><figure class="wolai-center" style="width: 100%"><img src="https://img-blog.csdnimg.cn/20190420132101571.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NjYW5mX2xpbnV4,size_16,color_FFFFFF,t_70" style="width: 412px"/></figure></div><h3 id="jpMrpR2J5Los7z41xoDXqK" class="wolai-block"><span class="inline-wrap">1.4.4 client<span class="jill"></span>主动释放<span class="jill"></span>IP<span class="jill"></span>地址</span></h3><div id="cLf5dZQPK6rhMkXHE4cMz1" class="wolai-block"><figure class="wolai-center" style="width: 100%"><img src="https://img-blog.csdnimg.cn/20190420125952598.png" style="width: 446.4px"/></figure></div><div id="2aJLfoefPzSvVwEfDA9Vkg" class="wolai-block wolai-text"><div><span class="inline-wrap">图<span class="jill"></span>16 DHCP release<span class="jill"></span>报文</span></div></div></article><footer></footer></body></html>