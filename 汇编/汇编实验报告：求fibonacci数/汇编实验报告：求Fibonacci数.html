<!DOCTYPE html>
<html lang="zh-Hans-CN"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=Edge"/><link rel="stylesheet" type="text/css" href="../css/modern-norm.min.css"/><link rel="stylesheet" type="text/css" href="../css/prism.min.css"/><link rel="stylesheet" type="text/css" href="../css/katex.min.css"/><link rel="stylesheet" type="text/css" href="../css/wolai.css"/><title>汇编实验报告：求Fibonacci数 - wolai 笔记</title><link rel="shortcut icon" href="data:image/svg+xml,%3Csvg xmlns=&apos;http://www.w3.org/2000/svg&apos; viewBox=&apos;0 0 800 800&apos;%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fff;%7D%3C/style%3E%3C/defs%3E%3Cg%3E%3Cpath class=&apos;cls-1&apos; d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Z&apos;/%3E%3Cpath d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Zm4.72,88.9H185.2L172.42,89c-32.78.62-43.68,3.24-54.71,9.14a45.84,45.84,0,0,0-19.54,19.54c-6.61,12.36-9.11,24.55-9.27,67.49V614.8L89,627.58c.62,32.78,3.24,43.68,9.14,54.71a45.84,45.84,0,0,0,19.54,19.54c12.36,6.61,24.55,9.11,67.49,9.27H610.08c46.79,0,59.41-2.44,72.21-9.28a45.84,45.84,0,0,0,19.54-19.54c6.61-12.36,9.11-24.55,9.27-67.49V189.92c0-46.79-2.44-59.41-9.28-72.21a45.84,45.84,0,0,0-19.54-19.54C669.93,91.56,657.74,89.06,614.8,88.9ZM233.33,493.33A73.34,73.34,0,1,1,160,566.67,73.35,73.35,0,0,1,233.33,493.33Z&apos;/%3E%3C/g%3E%3C/svg%3E"></link></head><body><header><div class="image"></div><div class="title"><div class="banner"><div class="icon"></div></div><div data-title="汇编实验报告：求Fibonacci数" class="main-title"></div></div></header><article><div id="wAaXD8hTkWg2w9f2bEWR9X" class="wolai-block wolai-simple-table"><table><tbody><tr><td style="width: 176px"><span class="inline-wrap">实验内容：</span></td><td style="width: 531px"><span class="inline-wrap">求<span class="jill"></span>Fibonacci<span class="jill"></span>数</span></td></tr><tr><td style="width: 176px"><span class="inline-wrap">姓 名：</span></td><td style="width: 531px"><span class="inline-wrap">许愿</span></td></tr><tr><td style="width: 176px"><span class="inline-wrap">学 号：</span></td><td style="width: 531px"><span class="inline-wrap">8201210729</span></td></tr><tr><td style="width: 176px"><span class="inline-wrap">专业班级：</span></td><td style="width: 531px"><span class="inline-wrap">计算机科学与技术卓越人才培养 T2101</span></td></tr><tr><td style="width: 176px"><span class="inline-wrap">指导教师：</span></td><td style="width: 531px"><span class="inline-wrap">贺建飚</span></td></tr></tbody></table></div><h2 id="hScTLFrER1uM62iJGHzPzD" class="wolai-block"><span class="inline-wrap"><b>一、</b></span><span class="inline-wrap"> </span><span class="inline-wrap"><b>设计说明</b></span></h2><h3 id="kbw4uk72f1v6nNpQnagRdh" class="wolai-block"><span class="inline-wrap">1.1</span><span class="inline-wrap"><b>程序</b></span><span class="inline-wrap">名：</span><span class="inline-wrap">求<span class="jill"></span>Fibonacci<span class="jill"></span>数<span class="jill"></span>fib</span></h3><h3 id="2JZLvvb6ZP7NvpNjA51uHA" class="wolai-block"><span class="inline-wrap">1.2</span><span class="inline-wrap"><b>程序</b></span><span class="inline-wrap">功能</span></h3><div id="hogFY3V7bxPDYKfdgJ8aYr" class="wolai-block wolai-text"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><mtext>程序接收由用户键入的范围在</mtext><mn>0</mn><mo>∼</mo><mn>100</mn><mo stretchy="false">(</mo><mtext>不包括</mtext><mn>0</mn><mtext>和</mtext><mn>100</mn><mo stretchy="false">)</mo><mtext>之间的</mtext><mi mathvariant="normal">n</mi><mtext>值；</mtext><mspace linebreak="newline"></mspace><mo stretchy="false">(</mo><mn>2</mn><mo stretchy="false">)</mo><mtext>根据给定的</mtext><mi>n</mi><mtext>值</mtext><mo separator="true">,</mo><mtext>计算</mtext><mi>F</mi><mi>i</mi><mi>b</mi><mi>o</mi><mi>n</mi><mi>a</mi><mi>c</mi><mi>c</mi><mi>i</mi><mtext>数。</mtext><mspace linebreak="newline"></mspace><mtext>其定义如下：</mtext><mspace linebreak="newline"></mspace><mspace linebreak="newline"></mspace><mrow><mo fence="true">{</mo><mtable rowspacing="0.16em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mrow><mi mathvariant="normal">F</mi><mi mathvariant="normal">I</mi><mi mathvariant="normal">B</mi></mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mrow><mi mathvariant="normal">F</mi><mi mathvariant="normal">I</mi><mi mathvariant="normal">B</mi></mrow><mo stretchy="false">(</mo><mn>2</mn><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mrow><mi mathvariant="normal">F</mi><mi mathvariant="normal">I</mi><mi mathvariant="normal">B</mi></mrow><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mi mathvariant="normal">F</mi><mi mathvariant="normal">I</mi><mi mathvariant="normal">B</mi></mrow><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mn>2</mn><mo stretchy="false">)</mo><mo>+</mo><mrow><mi mathvariant="normal">F</mi><mi mathvariant="normal">I</mi><mi mathvariant="normal">B</mi></mrow><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mspace width="1em"/><mo stretchy="false">(</mo><mi>n</mi><mo>&gt;</mo><mn>2</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mrow><mspace linebreak="newline"></mspace><mspace linebreak="newline"></mspace><mo stretchy="false">(</mo><mn>3</mn><mo stretchy="false">)</mo><mtext>程序输出</mtext><mi>F</mi><mi>I</mi><mi>B</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mtext>值</mtext></mrow><annotation encoding="application/x-tex">(1)程序接收由用户键入的范围在 0 \sim 100 (不包括 0 和 100 ) 之间的 \mathrm{n} 值；\\(2) 根据给定的 n 值, 计算 Fibonacci 数。\\其定义如下：\\\\\left\{\begin{array}{l}\\\mathrm{FIB}(1)=1 \\\\\mathrm{FIB}(2)=1 \\\\\mathrm{FIB}(n)=\mathrm{FIB}(n-2)+\mathrm{FIB}(n-1) \quad(n&gt;2)\\\end{array}\right.\\\\(3) 程序输出 FIB(n) 值</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mord cjk_fallback">程序接收由用户键入的范围在</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">100</span><span class="mopen">(</span><span class="mord cjk_fallback">不包括</span><span class="mord">0</span><span class="mord cjk_fallback">和</span><span class="mord">100</span><span class="mclose">)</span><span class="mord cjk_fallback">之间的</span><span class="mord mathrm">n</span><span class="mord cjk_fallback">值；</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">2</span><span class="mclose">)</span><span class="mord cjk_fallback">根据给定的</span><span class="mord mathnormal">n</span><span class="mord cjk_fallback">值</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord cjk_fallback">计算</span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mord mathnormal">ib</span><span class="mord mathnormal">o</span><span class="mord mathnormal">na</span><span class="mord mathnormal">cc</span><span class="mord mathnormal">i</span><span class="mord cjk_fallback">数。</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">其定义如下：</span></span><span class="mspace newline"></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:7.2em;vertical-align:-3.35em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.85em;"><span style="top:-1.366em;"><span class="pstrut" style="height:3.816em;"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-1.358em;"><span class="pstrut" style="height:3.816em;"></span><span style="height:1.816em;width:0.8889em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.8889em' height='1.816em' style='width:0.8889em' viewBox='0 0 888.89 1816' preserveAspectRatio='xMinYMin'><path d='M384 0 H504 V1816 H384z M384 0 H504 V1816 H384z'/></svg></span></span><span style="top:-3.816em;"><span class="pstrut" style="height:3.816em;"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-4.958em;"><span class="pstrut" style="height:3.816em;"></span><span style="height:1.816em;width:0.8889em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.8889em' height='1.816em' style='width:0.8889em' viewBox='0 0 888.89 1816' preserveAspectRatio='xMinYMin'><path d='M384 0 H504 V1816 H384z M384 0 H504 V1816 H384z'/></svg></span></span><span style="top:-6.766em;"><span class="pstrut" style="height:3.816em;"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.35em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.85em;"><span style="top:-6.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"></span></span><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">FIB</span></span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">1</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">FIB</span></span><span class="mopen">(</span><span class="mord">2</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">1</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"></span></span><span style="top:-0.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">FIB</span></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathrm">FIB</span></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">2</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathrm">FIB</span></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:1em;"></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">2</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.35em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="mspace newline"></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">3</span><span class="mclose">)</span><span class="mord cjk_fallback">程序输出</span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mord cjk_fallback">值</span></span></span></span></span></div><h3 id="g4D2hFeGEpRtkNXDwMBPC5" class="wolai-block"><span class="inline-wrap">1.3 数据结构及主要符号</span></h3><code-block id="bBGYZTUkrkXifmYxj8nqVa" class="wolai-block"><div class="wolai-pre"><div data-lang="6502 Assembly" class="marker"></div><pre>结果储存：
result db        <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">24</span> <span class="token function">dup</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
前一个结果储存：
pre  db        <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">24</span> <span class="token function">dup</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
输出_分割线：
mess0  db        <span class="token number">0</span>dh<span class="token punctuation">,</span><span class="token number">0</span>ah<span class="token punctuation">,</span><span class="token string">'=================================='</span><span class="token punctuation">,</span><span class="token string">'$'</span>
输入_提示：
mess1  db        <span class="token number">0</span>dh<span class="token punctuation">,</span><span class="token number">0</span>ah<span class="token punctuation">,</span><span class="token string">'Please choose a data from 1 to 100:'</span><span class="token punctuation">,</span><span class="token string">'$'</span>
mess2  db        <span class="token string">'The result is:'</span><span class="token punctuation">,</span><span class="token string">'$'</span>
mess3  db        <span class="token number">0</span>dh<span class="token punctuation">,</span><span class="token number">0</span>ah<span class="token punctuation">,</span><span class="token string">'Press Q/q to exit.'</span><span class="token punctuation">,</span><span class="token string">'$'</span>
mess4  db        <span class="token number">0</span>dh<span class="token punctuation">,</span><span class="token number">0</span>ah<span class="token punctuation">,</span><span class="token string">'You have typed Q/q to exit.'</span><span class="token punctuation">,</span><span class="token string">'$'</span>
输出_错误提示：
mess5  db        <span class="token number">0</span>dh<span class="token punctuation">,</span><span class="token number">0</span>ah<span class="token punctuation">,</span><span class="token string">'Input error,please re-enter.'</span><span class="token punctuation">,</span><span class="token string">'$'</span>
进位标志：
flag  dw        <span class="token operator">?</span>
</pre></div></code-block><h3 id="9rJPUy54Gd2uNz2jxu1vHk" class="wolai-block"><span class="inline-wrap">1.4 算法说明</span></h3><div id="anZH2yM8MXGMMQp8qi6aCN" class="wolai-block wolai-text"><div><span class="inline-wrap">本算法使用自底向上的迭代运算和大整数加法来实现斐波那契数列的计算。</span></div></div><div id="tKckGtrkCqKHhDbaeYdG3G" class="wolai-block wolai-text"><div><span class="inline-wrap">并且滚动使用</span><span class="inline-wrap"><code>result</code></span><span class="inline-wrap">和</span><span class="inline-wrap"><code>pre</code></span><span class="inline-wrap">变量，减少了空间的使用。</span></div></div><div id="pMmtsBemTbx7TAzAnxExDE" class="wolai-block wolai-text"><div><span class="inline-wrap">大整数加法是一种类似于列竖式的加法方式，采用按位加的方法，并记录每一位的进位。</span></div></div><h3 id="rHxBbHEZtCoCZykpow3Nn1" class="wolai-block"><span class="inline-wrap">1.5 模块说明</span></h3><div id="3FK3hQDFFaJb85xhf1tLQD" class="wolai-row"><div id="mnGKp8oJVBNtWHAJeLweDw" class="wolai-col" style="flex-grow: 0.6041666666666666"><div id="j7rFmHsGR9hJxTAeR3tXv7" class="wolai-block wolai-text"><div><span class="inline-wrap">main<span class="jill"></span>主程序</span></div><div id="h2M8LNgwLMpAgDEhddSPKy" class="wolai-block wolai-text"><div><span class="inline-wrap">loopinput 循环输入</span></div><div id="ky4ToHmCLxugYswx417EqT" class="wolai-block wolai-text"><div><span class="inline-wrap">clear 初始化相关变量</span></div></div><div id="hcV2H7WyqLbdX8cP1HHsvV" class="wolai-block wolai-text"><div><span class="inline-wrap">input 输入待求的数字<span class="jill"></span>N</span></div></div><div id="wjc9jRhyZNw6NA7TwCYUen" class="wolai-block wolai-text"><div><span class="inline-wrap">error 输入错误处理模块</span></div></div><div id="idxNqFLweXAU4HP5sFyg3t" class="wolai-block wolai-text"><div><span class="inline-wrap">fibp 输出带出的斐波那契数</span></div></div><div id="8cCfdH1VCJVHj8EPws1kvv" class="wolai-block wolai-text"><div><span class="inline-wrap">    print 输出</span></div></div></div></div></div><div id="frs6kfz1M1tsNpmopSqoQV" class="wolai-col" style="flex-grow: 0.3958333333333333"><div id="i8cM5GgDTCHFjVBRJhH6ox" class="wolai-block"><figure class="wolai-left" style="width: 100%"><img src="media/image.png" style="width: 372px"/></figure></div></div></div><h2 id="cWnLTGPwKNi4ZHQbSq7aF4" class="wolai-block"><span class="inline-wrap"><b>二、</b></span><span class="inline-wrap"> </span><span class="inline-wrap"><b>调试说明</b></span></h2><h3 id="cANxnHKtD23oaKfChHnXAa" class="wolai-block"><span class="inline-wrap">2.1</span><span class="inline-wrap"><b>实验结果</b></span></h3><div id="cKdjAxd1nCfCJcduv1s9PQ" class="wolai-block"><figure class="wolai-center" style="width: 100%"><img src="media/image_1.png" style="width: 100%"/></figure></div><h3 id="c1qU7v9BRVorR3QegBJxqR" class="wolai-block"><span class="inline-wrap">2.2</span><span class="inline-wrap"><b>实验调试</b></span></h3><div id="vm4AtBzJSDJqtzsNCqNCjd" class="wolai-block wolai-text"><div><span class="inline-wrap">由调试器我们可以看到，代码被存在<span class="jill"></span>04C2<span class="jill"></span>段中，数据被存在<span class="jill"></span>04B0<span class="jill"></span>段中，栈数据被存在<span class="jill"></span>04A0<span class="jill"></span>段中。</span></div></div><div id="wBdw1MYXG3Goo35eHPzn2K" class="wolai-block"><figure class="wolai-center" style="width: 100%"><img src="media/image_2.png" style="width: 100%"/></figure></div><div id="7EJLHLFfXvHHtuwYCqJp13" class="wolai-block wolai-text"><div><span class="inline-wrap">利用-d<span class="jill"></span>指令，我们可以查询到数据段</span></div></div><div id="bofYB2J4XGDnLyczxpmhLm" class="wolai-block"><figure class="wolai-center" style="width: 100%"><img src="media/image_3.png" style="width: 100%"/></figure></div><div id="oF3bkZLKWJE44e477y4cjo" class="wolai-block wolai-text"><div><span class="inline-wrap">运行完毕之后，我们不难发现，答案从低位到高位被储存在了<span class="jill"></span>04B0:0-14<span class="jill"></span>中</span></div></div><div id="5yVqGR912EVUwF1BELC2Bt" class="wolai-block"><figure class="wolai-center" style="width: 100%"><img src="media/image_4.png" style="width: 100%"/></figure></div><h3 id="veNTaaN2F2gMmTbnJazsnX" class="wolai-block"><span class="inline-wrap">2.3 问题与</span><span class="inline-wrap"><b>解决</b></span><span class="inline-wrap">方案</span></h3><h4 id="6ApRi4rWR8AxiadyAeh7Pk" class="wolai-block"><span class="inline-wrap">2.3.1<span class="jill"></span>如何运算较大的整数加法？</span></h4><div id="2EfX8WxAu2waNvb8hVZBiT" class="wolai-block wolai-text"><div><span class="inline-wrap">采用大整数加法来进行计算。这是一种类似于列竖式的加法方式，采用按位加的方法，并记录每一位的进位。</span></div></div><h4 id="jftvxEeJXaUwdP6rQYwqNQ" class="wolai-block"><span class="inline-wrap">2.3.2 如何去除先导零，输出按位储存的大整数？</span></h4><div id="piCBQz5MTkDB99AVf1LkiM" class="wolai-block wolai-text"><div><span class="inline-wrap">从高位开始，找到第一个非<span class="jill"></span>0<span class="jill"></span>的位数，然后输出后面的数字。</span></div></div><code-block id="pHxdE4UHPedV6dYgjbNj3n" class="wolai-block"><div class="wolai-pre"><div data-lang="C++" class="marker"></div><pre>    mov       cx<span class="token punctuation">,</span><span class="token number">25</span>
    mov       si<span class="token punctuation">,</span><span class="token number">24</span>
printloop<span class="token operator">:</span>  
    cmp       flag<span class="token punctuation">,</span><span class="token number">0</span>      <span class="token punctuation">;</span>标志位判断输出的高位是否为<span class="token number">0</span>
    jnz       print
    cmp       result<span class="token punctuation">[</span>si<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">0</span>
    jz        <span class="token keyword control-flow">continue</span>
    add       flag<span class="token punctuation">,</span><span class="token number">1</span>
print<span class="token operator">:</span>  
    mov       dl<span class="token punctuation">,</span>result<span class="token punctuation">[</span>si<span class="token punctuation">]</span><span class="token punctuation">;</span>以十进制输出
    add       dl<span class="token punctuation">,</span><span class="token number">48</span>
    mov       ah<span class="token punctuation">,</span><span class="token number">02</span>h
    int       <span class="token number">21</span>h</pre></div></code-block><h4 id="5QDsvikHfZAoAcvGoHPHq8" class="wolai-block"><span class="inline-wrap">2.3.3 如何将输入的字符串变成数字？</span></h4><div id="oXXK1CB8WLXLNVYGaa4oUG" class="wolai-block wolai-text"><div><span class="inline-wrap">采用秦九韶多项式的思想，利用</span></div></div><div id="3aBE839F59g6Emprjk2z6x" class="wolai-block wolai-text"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>x</mi><mo>=</mo><mi>x</mi><mo>∗</mo><mn>10</mn><mo>+</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">x=x*10+b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4653em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">10</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span></span></div><div id="g2QXP1C4cv44zk58U1bS5H" class="wolai-block wolai-text"><div><span class="inline-wrap">避免复杂的加权运算</span></div></div><code-block id="xesgoKkPMUDXA7WPnvF7LF" class="wolai-block"><div class="wolai-pre"><div data-lang="C++" class="marker"></div><pre><span class="token punctuation">;</span>从<span class="token constant">ASCLL</span>码变成数字
    sub       al<span class="token punctuation">,</span><span class="token number">30</span>h
    mov       ah<span class="token punctuation">,</span><span class="token number">0</span>
<span class="token punctuation">;</span> bx<span class="token operator">=</span>bx<span class="token operator">+</span>ax<span class="token operator">*</span><span class="token number">10</span>
    xchg      ax<span class="token punctuation">,</span>bx
    mov       cx<span class="token punctuation">,</span><span class="token number">10</span>d    
    mul       cx<span class="token punctuation">;</span> <span class="token punctuation">(</span><span class="token constant">DX</span><span class="token punctuation">,</span> <span class="token constant">AX</span><span class="token punctuation">)</span> <span class="token function">←</span>  <span class="token punctuation">(</span><span class="token constant">AX</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token constant">SRC</span><span class="token punctuation">)</span>
    xchg      ax<span class="token punctuation">,</span>bx
    add       bx<span class="token punctuation">,</span>ax</pre></div></code-block><h2 id="c5cFdA7npX4Q3xnp6aRfrh" class="wolai-block"><span class="inline-wrap"><b>三、</b></span><span class="inline-wrap"> </span><span class="inline-wrap"><b>程序框图</b></span></h2><div id="gwV16BoiypkofDXJs1RJeG" class="wolai-block"><figure class="wolai-center" style="width: 100%"><img src="media/image_5.png" style="width: 412px"/></figure></div><h2 id="eRDyADqMpgkJk4n9BqVBdN" class="wolai-block"><span class="inline-wrap"><b>四、</b></span><span class="inline-wrap"> </span><span class="inline-wrap"><b>程序清单</b></span></h2><div id="owFexRkD4aCfZnFmkkyK3T" class="wolai-block wolai-text"><div><span class="inline-wrap"><b>实验代码如下：</b></span></div></div><code-block id="eieNQz4DwjRFzkcPLzccvM" class="wolai-block"><div class="wolai-pre"><div data-lang="6502 Assembly" class="marker"></div><pre>datas   segment 

  result db        <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">24</span> <span class="token function">dup</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
      pre  db        <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">24</span> <span class="token function">dup</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
    mess0  db        <span class="token number">0</span>dh<span class="token punctuation">,</span><span class="token number">0</span>ah<span class="token punctuation">,</span><span class="token string">'=================================='</span><span class="token punctuation">,</span><span class="token string">'$'</span>
    mess1  db        <span class="token number">0</span>dh<span class="token punctuation">,</span><span class="token number">0</span>ah<span class="token punctuation">,</span><span class="token string">'Please choose a data from 1 to 100:'</span><span class="token punctuation">,</span><span class="token string">'$'</span>
    mess2  db        <span class="token string">'The result is:'</span><span class="token punctuation">,</span><span class="token string">'$'</span>
    mess3  db        <span class="token number">0</span>dh<span class="token punctuation">,</span><span class="token number">0</span>ah<span class="token punctuation">,</span><span class="token string">'Press Q/q to exit.'</span><span class="token punctuation">,</span><span class="token string">'$'</span>
   mess4  db        <span class="token number">0</span>dh<span class="token punctuation">,</span><span class="token number">0</span>ah<span class="token punctuation">,</span><span class="token string">'You have typed Q/q to exit.'</span><span class="token punctuation">,</span><span class="token string">'$'</span>
  mess5  db        <span class="token number">0</span>dh<span class="token punctuation">,</span><span class="token number">0</span>ah<span class="token punctuation">,</span><span class="token string">'Input error,please re-enter.'</span><span class="token punctuation">,</span><span class="token string">'$'</span>
     flag  dw        <span class="token operator">?</span>

datas  ends

stacks segment
    dw <span class="token number">32</span> <span class="token constant">DUP</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> 
    <span class="token maybe-class-name">SEnd</span> label db 
stacks ends

codes  segment
<span class="token punctuation">;</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>main<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
main       proc      far
assume    cs<span class="token operator">:</span>codes<span class="token punctuation">,</span>ds<span class="token operator">:</span>datas<span class="token punctuation">,</span>ss<span class="token operator">:</span>stacks<span class="token punctuation">,</span>es<span class="token operator">:</span>datas
start<span class="token operator">:</span>
     <span class="token punctuation">;</span>初始化栈
        mov     ax<span class="token punctuation">,</span>stacks
        mov     ss<span class="token punctuation">,</span>ax
        mov     sp<span class="token punctuation">,</span>offset <span class="token maybe-class-name">SEnd</span>

        <span class="token punctuation">;</span>初始化代码段
        mov     ax<span class="token punctuation">,</span>datas
        mov     ds<span class="token punctuation">,</span>ax
        
        <span class="token punctuation">;</span>初始化拓展段
        mov     es<span class="token punctuation">,</span>ax
loopinput<span class="token operator">:</span>
    <span class="token punctuation">;</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">=</span>
    mov       ah<span class="token punctuation">,</span><span class="token number">09</span>
    lea       dx<span class="token punctuation">,</span>mess0
    int       <span class="token number">21</span>h
    <span class="token punctuation">;</span>进栈 可以提高程序稳定性？
    push      ax          
    push      bx
    push      cx
    push      dx
    push      si
    push      di
    call      clear

    <span class="token punctuation">;</span><span class="token maybe-class-name">Press</span> <span class="token constant">Q</span><span class="token operator">/</span>q to exit<span class="token punctuation">.</span>
    <span class="token property-access">mov</span>       ah<span class="token punctuation">,</span><span class="token number">09</span>       
    lea       dx<span class="token punctuation">,</span>mess3
    int       <span class="token number">21</span>h

    <span class="token punctuation">;</span><span class="token maybe-class-name">Please</span> choose a data <span class="token keyword module">from</span> <span class="token number">1</span> to <span class="token number">100</span><span class="token operator">:</span>
    lea       dx<span class="token punctuation">,</span>mess1
    int       <span class="token number">21</span>h

    mov       bx<span class="token punctuation">,</span><span class="token number">0</span>
input<span class="token operator">:</span>
    <span class="token punctuation">;</span>输入
    mov       ah<span class="token punctuation">,</span><span class="token number">01</span>
    int       <span class="token number">21</span>h
    <span class="token punctuation">;</span>是否退出
    cmp       al<span class="token punctuation">,</span><span class="token string">'q'</span> 
    jz        exit       
    cmp       al<span class="token punctuation">,</span><span class="token string">'Q'</span>
    jz        exit
    <span class="token punctuation">;</span>是否是数字
    cmp       al<span class="token punctuation">,</span><span class="token number">0</span>dh
    jz        cont
    cmp       al<span class="token punctuation">,</span><span class="token string">'0'</span>      
    jb        error       
    cmp       al<span class="token punctuation">,</span><span class="token string">':'</span>
    jnb       error 
    <span class="token punctuation">;</span>从<span class="token constant">ASCLL</span>码变成数字
    sub       al<span class="token punctuation">,</span><span class="token number">30</span>h
    mov       ah<span class="token punctuation">,</span><span class="token number">0</span>
    <span class="token punctuation">;</span> bx<span class="token operator">=</span>bx<span class="token operator">+</span>bx<span class="token operator">*</span><span class="token number">10</span>
    xchg      ax<span class="token punctuation">,</span>bx
    mov       cx<span class="token punctuation">,</span><span class="token number">10</span>d    
    mul       cx<span class="token punctuation">;</span> <span class="token punctuation">(</span><span class="token constant">DX</span><span class="token punctuation">,</span> <span class="token constant">AX</span><span class="token punctuation">)</span> <span class="token function">←</span>  <span class="token punctuation">(</span><span class="token constant">AX</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token constant">SRC</span><span class="token punctuation">)</span>
    xchg      ax<span class="token punctuation">,</span>bx
    add       bx<span class="token punctuation">,</span>ax
jmp       input

error<span class="token operator">:</span>  
    <span class="token punctuation">;</span><span class="token maybe-class-name">Input</span> error<span class="token punctuation">,</span>please re<span class="token operator">-</span>enter<span class="token punctuation">.</span>
    <span class="token property-access">mov</span>       ah<span class="token punctuation">,</span><span class="token number">09</span>
    lea       dx<span class="token punctuation">,</span>mess5
    int       <span class="token number">21</span>h

    pop       di          <span class="token punctuation">;</span>出栈
    pop       si
    pop       dx
    pop       cx
    pop       bx
    pop       ax
jmp       loopinput 

exit<span class="token operator">:</span>  <span class="token punctuation">;</span>提示已退出程序信息
    mov       ah<span class="token punctuation">,</span><span class="token number">09</span>
    lea       dx<span class="token punctuation">,</span>mess4
    int       <span class="token number">21</span>h
    mov       ah<span class="token punctuation">,</span><span class="token number">4</span>ch
    int       <span class="token number">21</span>h
    ret

cont<span class="token operator">:</span>  
    cmp       bx<span class="token punctuation">,</span><span class="token number">0</span>
    jz        error
    mov       cx<span class="token punctuation">,</span>bx    
    <span class="token punctuation">;</span><span class="token keyword control-flow">if</span> 如果小于等于<span class="token number">2</span>，直接输出<span class="token number">1</span>
    cmp       cx<span class="token punctuation">,</span><span class="token number">2</span>
    jle       call_f 
    <span class="token punctuation">;</span><span class="token keyword control-flow">else</span> 否则以cx<span class="token operator">-</span><span class="token number">2</span>作为外循环，把两个数相加
    sub       cx<span class="token punctuation">,</span><span class="token number">2</span>        
<span class="token punctuation">;</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token maybe-class-name">Fibonacci计算循环</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
loopFi<span class="token operator">:</span>  
    push      cx

    mov       cx<span class="token punctuation">,</span><span class="token number">25</span>
    mov       si<span class="token punctuation">,</span><span class="token number">0</span>
<span class="token punctuation">;</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>大整数加法循环<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
loopadd<span class="token operator">:</span>  
    <span class="token punctuation">;</span>从低位开始加
    mov       dl<span class="token punctuation">,</span>pre<span class="token punctuation">[</span>si<span class="token punctuation">]</span>
    mov       dh<span class="token punctuation">,</span>result<span class="token punctuation">[</span>si<span class="token punctuation">]</span>
    add       dl<span class="token punctuation">,</span>dh       
    mov       result<span class="token punctuation">[</span>si<span class="token punctuation">]</span><span class="token punctuation">,</span>dl
    mov       pre<span class="token punctuation">[</span>si<span class="token punctuation">]</span><span class="token punctuation">,</span>dh    
    <span class="token punctuation">;</span>如果有进位
    cmp       dl<span class="token punctuation">,</span><span class="token number">10</span>
    jae       carry 
    <span class="token punctuation">;</span><span class="token keyword control-flow">else</span>      
    inc       si
    jmp       ncarry
carry<span class="token operator">:</span>  
    sub       result<span class="token punctuation">[</span>si<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">10</span>         
    inc       si
    add       pre<span class="token punctuation">[</span>si<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">1</span>     
ncarry<span class="token operator">:</span>  
    loop      loopadd
<span class="token punctuation">;</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>大整数加法循环<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>

    pop       cx
loop      loopFi
<span class="token punctuation">;</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token maybe-class-name">Fibonacci计算循环</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>

call_f<span class="token operator">:</span>
    call      fibp
    pop       di          <span class="token punctuation">;</span>出栈
    pop       si
    pop       dx
    pop       cx
    pop       bx
    pop       ax
    jmp       loopinput     <span class="token punctuation">;</span>跳转回开始状态，进行下一次计算  

main      endp
<span class="token punctuation">;</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>main<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>

fibp       proc      near
    <span class="token punctuation">;</span><span class="token maybe-class-name">The</span> result is
    lea       dx<span class="token punctuation">,</span>mess2    <span class="token punctuation">;</span>输出显示提示
    mov       ah<span class="token punctuation">,</span><span class="token number">09</span>
    int       <span class="token number">21</span>h
<span class="token punctuation">;</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>从高位开始输出<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
    mov       cx<span class="token punctuation">,</span><span class="token number">25</span>
    mov       si<span class="token punctuation">,</span><span class="token number">24</span>
printloop<span class="token operator">:</span>  
    cmp       flag<span class="token punctuation">,</span><span class="token number">0</span>      <span class="token punctuation">;</span>标志位判断输出的高位是否为<span class="token number">0</span>
    jnz       print
    cmp       result<span class="token punctuation">[</span>si<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">0</span>
    jz        <span class="token keyword control-flow">continue</span>
    add       flag<span class="token punctuation">,</span><span class="token number">1</span>
print<span class="token operator">:</span>  
    mov       dl<span class="token punctuation">,</span>result<span class="token punctuation">[</span>si<span class="token punctuation">]</span><span class="token punctuation">;</span>以十进制输出
    add       dl<span class="token punctuation">,</span><span class="token number">48</span>
    mov       ah<span class="token punctuation">,</span><span class="token number">02</span>h
    int       <span class="token number">21</span>h
<span class="token keyword control-flow">continue</span><span class="token operator">:</span>  
    dec       si
loop      printloop
<span class="token punctuation">;</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>从高位开始输出<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
    ret
fibp   endp

<span class="token punctuation">;</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>清空临时使用的数组<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
clear       proc      near

    mov       flag<span class="token punctuation">,</span><span class="token number">0</span>
    mov       result<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">1</span>d
    mov       pre<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">1</span>d
    mov       si<span class="token punctuation">,</span><span class="token number">1</span>

    mov       cx<span class="token punctuation">,</span><span class="token number">24</span>
clearloop<span class="token operator">:</span>  
    mov       result<span class="token punctuation">[</span>si<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">0</span>
    mov       pre<span class="token punctuation">[</span>si<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">0</span>
    add       si<span class="token punctuation">,</span><span class="token number">1</span>
loop      clearloop

    mov       si<span class="token punctuation">,</span><span class="token number">0</span>

    ret

clear   endp
<span class="token punctuation">;</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>清空临时使用的数组<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>

codes  ends 
        end     main     
</pre></div></code-block></article><footer></footer></body></html>